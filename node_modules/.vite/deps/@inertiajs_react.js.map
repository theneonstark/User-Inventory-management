{
  "version": 3,
  "sources": ["../../lodash.isequal/index.js", "../../@inertiajs/core/src/debounce.ts", "../../@inertiajs/core/src/events.ts", "../../@inertiajs/core/src/sessionStorage.ts", "../../@inertiajs/core/src/encryption.ts", "../../@inertiajs/core/src/scroll.ts", "../../@inertiajs/core/src/url.ts", "../../@inertiajs/core/src/files.ts", "../../@inertiajs/core/src/formData.ts", "../../@inertiajs/core/src/page.ts", "../../@inertiajs/core/src/queue.ts", "../../@inertiajs/core/src/history.ts", "../../@inertiajs/core/src/eventHandler.ts", "../../@inertiajs/core/src/navigationType.ts", "../../@inertiajs/core/src/initialVisit.ts", "../../@inertiajs/core/src/poll.ts", "../../@inertiajs/core/src/polls.ts", "../../@inertiajs/core/src/objectUtils.ts", "../../@inertiajs/core/src/time.ts", "../../@inertiajs/core/src/prefetched.ts", "../../@inertiajs/core/src/request.ts", "../../@inertiajs/core/src/requestParams.ts", "../../@inertiajs/core/src/modal.ts", "../../@inertiajs/core/src/response.ts", "../../@inertiajs/core/src/requestStream.ts", "../../@inertiajs/core/src/router.ts", "../../@inertiajs/core/src/head.ts", "../../@inertiajs/core/src/progress-component.ts", "../../@inertiajs/core/src/progress.ts", "../../@inertiajs/core/src/shouldIntercept.ts", "../../@inertiajs/core/src/index.ts", "../../@inertiajs/react/src/index.ts", "../../@inertiajs/react/src/createInertiaApp.ts", "../../@inertiajs/react/src/App.ts", "../../@inertiajs/react/src/HeadContext.ts", "../../@inertiajs/react/src/PageContext.ts", "../../@inertiajs/react/src/Deferred.ts", "../../@inertiajs/react/src/usePage.ts", "../../@inertiajs/react/src/Head.ts", "../../@inertiajs/react/src/Link.ts", "../../@inertiajs/react/src/useForm.ts", "../../@inertiajs/react/src/useRemember.ts", "../../@inertiajs/react/src/usePoll.ts", "../../@inertiajs/react/src/usePrefetch.ts", "../../@inertiajs/react/src/WhenVisible.ts"],
  "sourcesContent": ["/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n", "export default function debounce<F extends (...params: any[]) => ReturnType<F>>(fn: F, delay: number): F {\n  let timeoutID: NodeJS.Timeout\n  return function (...args: unknown[]) {\n    clearTimeout(timeoutID)\n    timeoutID = setTimeout(() => fn.apply(this, args), delay)\n  } as F\n}\n", "import { GlobalEventDetails, GlobalEventNames, GlobalEventTrigger } from './types'\n\nfunction fireEvent<TEventName extends GlobalEventNames>(\n  name: TEventName,\n  options: CustomEventInit<GlobalEventDetails<TEventName>>,\n): boolean {\n  return document.dispatchEvent(new CustomEvent(`inertia:${name}`, options))\n}\n\nexport const fireBeforeEvent: GlobalEventTrigger<'before'> = (visit) => {\n  return fireEvent('before', { cancelable: true, detail: { visit } })\n}\n\nexport const fireErrorEvent: GlobalEventTrigger<'error'> = (errors) => {\n  return fireEvent('error', { detail: { errors } })\n}\n\nexport const fireExceptionEvent: GlobalEventTrigger<'exception'> = (exception) => {\n  return fireEvent('exception', { cancelable: true, detail: { exception } })\n}\n\nexport const fireFinishEvent: GlobalEventTrigger<'finish'> = (visit) => {\n  return fireEvent('finish', { detail: { visit } })\n}\n\nexport const fireInvalidEvent: GlobalEventTrigger<'invalid'> = (response) => {\n  return fireEvent('invalid', { cancelable: true, detail: { response } })\n}\n\nexport const fireNavigateEvent: GlobalEventTrigger<'navigate'> = (page) => {\n  return fireEvent('navigate', { detail: { page } })\n}\n\nexport const fireProgressEvent: GlobalEventTrigger<'progress'> = (progress) => {\n  return fireEvent('progress', { detail: { progress } })\n}\n\nexport const fireStartEvent: GlobalEventTrigger<'start'> = (visit) => {\n  return fireEvent('start', { detail: { visit } })\n}\n\nexport const fireSuccessEvent: GlobalEventTrigger<'success'> = (page) => {\n  return fireEvent('success', { detail: { page } })\n}\n\nexport const firePrefetchedEvent: GlobalEventTrigger<'prefetched'> = (response, visit) => {\n  return fireEvent('prefetched', { detail: { fetchedAt: Date.now(), response: response.data, visit } })\n}\n\nexport const firePrefetchingEvent: GlobalEventTrigger<'prefetching'> = (visit) => {\n  return fireEvent('prefetching', { detail: { visit } })\n}\n", "export class SessionStorage {\n  public static locationVisitKey = 'inertiaLocationVisit'\n\n  public static set(key: string, value: any): void {\n    if (typeof window !== 'undefined') {\n      window.sessionStorage.setItem(key, JSON.stringify(value))\n    }\n  }\n\n  public static get(key: string): any {\n    if (typeof window !== 'undefined') {\n      return JSON.parse(window.sessionStorage.getItem(key) || 'null')\n    }\n  }\n\n  public static merge(key: string, value: any): void {\n    const existing = this.get(key)\n\n    if (existing === null) {\n      this.set(key, value)\n    } else {\n      this.set(key, { ...existing, ...value })\n    }\n  }\n\n  public static remove(key: string): void {\n    if (typeof window !== 'undefined') {\n      window.sessionStorage.removeItem(key)\n    }\n  }\n\n  public static removeNested(key: string, nestedKey: string): void {\n    const existing = this.get(key)\n\n    if (existing !== null) {\n      delete existing[nestedKey]\n\n      this.set(key, existing)\n    }\n  }\n\n  public static exists(key: string): boolean {\n    try {\n      return this.get(key) !== null\n    } catch (error) {\n      return false\n    }\n  }\n\n  public static clear(): void {\n    if (typeof window !== 'undefined') {\n      window.sessionStorage.clear()\n    }\n  }\n}\n", "import { SessionStorage } from './sessionStorage'\n\nexport const encryptHistory = async (data: any): Promise<ArrayBuffer> => {\n  if (typeof window === 'undefined') {\n    throw new Error('Unable to encrypt history')\n  }\n\n  const iv = getIv()\n  const storedKey = await getKeyFromSessionStorage()\n  const key = await getOrCreateKey(storedKey)\n\n  if (!key) {\n    throw new Error('Unable to encrypt history')\n  }\n\n  const encrypted = await encryptData(iv, key, data)\n\n  return encrypted\n}\n\nexport const historySessionStorageKeys = {\n  key: 'historyKey',\n  iv: 'historyIv',\n}\n\nexport const decryptHistory = async (data: any): Promise<any> => {\n  const iv = getIv()\n  const storedKey = await getKeyFromSessionStorage()\n\n  if (!storedKey) {\n    throw new Error('Unable to decrypt history')\n  }\n\n  return await decryptData(iv, storedKey, data)\n}\n\nconst encryptData = async (iv: Uint8Array, key: CryptoKey, data: any) => {\n  if (typeof window === 'undefined') {\n    throw new Error('Unable to encrypt history')\n  }\n\n  if (typeof window.crypto.subtle === 'undefined') {\n    console.warn('Encryption is not supported in this environment. SSL is required.')\n\n    return Promise.resolve(data)\n  }\n\n  const textEncoder = new TextEncoder()\n  const str = JSON.stringify(data)\n  const encoded = new Uint8Array(str.length * 3)\n\n  const result = textEncoder.encodeInto(str, encoded)\n\n  return window.crypto.subtle.encrypt(\n    {\n      name: 'AES-GCM',\n      iv,\n    },\n    key,\n    encoded.subarray(0, result.written),\n  )\n}\n\nconst decryptData = async (iv: Uint8Array, key: CryptoKey, data: any) => {\n  if (typeof window.crypto.subtle === 'undefined') {\n    console.warn('Decryption is not supported in this environment. SSL is required.')\n\n    return Promise.resolve(data)\n  }\n\n  const decrypted = await window.crypto.subtle.decrypt(\n    {\n      name: 'AES-GCM',\n      iv,\n    },\n    key,\n    data,\n  )\n\n  return JSON.parse(new TextDecoder().decode(decrypted))\n}\n\nconst getIv = () => {\n  const ivString = SessionStorage.get(historySessionStorageKeys.iv)\n\n  if (ivString) {\n    return new Uint8Array(ivString)\n  }\n\n  const iv = window.crypto.getRandomValues(new Uint8Array(12))\n\n  SessionStorage.set(historySessionStorageKeys.iv, Array.from(iv))\n\n  return iv\n}\n\nconst createKey = async () => {\n  if (typeof window.crypto.subtle === 'undefined') {\n    console.warn('Encryption is not supported in this environment. SSL is required.')\n\n    return Promise.resolve(null)\n  }\n\n  return window.crypto.subtle.generateKey(\n    {\n      name: 'AES-GCM',\n      length: 256,\n    },\n    true,\n    ['encrypt', 'decrypt'],\n  )\n}\n\nconst saveKey = async (key: CryptoKey) => {\n  if (typeof window.crypto.subtle === 'undefined') {\n    console.warn('Encryption is not supported in this environment. SSL is required.')\n\n    return Promise.resolve()\n  }\n\n  const keyData = await window.crypto.subtle.exportKey('raw', key)\n\n  SessionStorage.set(historySessionStorageKeys.key, Array.from(new Uint8Array(keyData)))\n}\n\nconst getOrCreateKey = async (key: CryptoKey | null) => {\n  if (key) {\n    return key\n  }\n\n  const newKey = await createKey()\n\n  if (!newKey) {\n    return null\n  }\n\n  await saveKey(newKey)\n\n  return newKey\n}\n\nconst getKeyFromSessionStorage = async (): Promise<CryptoKey | null> => {\n  const stringKey = SessionStorage.get(historySessionStorageKeys.key)\n\n  if (!stringKey) {\n    return null\n  }\n\n  const key = await window.crypto.subtle.importKey(\n    'raw',\n    new Uint8Array(stringKey),\n    {\n      name: 'AES-GCM',\n      length: 256,\n    },\n    true,\n    ['encrypt', 'decrypt'],\n  )\n\n  return key\n}\n", "import { history } from './history'\nimport { ScrollRegion } from './types'\n\nexport class Scroll {\n  public static save(): void {\n    history.saveScrollPositions(\n      Array.from(this.regions()).map((region) => ({\n        top: region.scrollTop,\n        left: region.scrollLeft,\n      })),\n    )\n  }\n\n  protected static regions(): NodeListOf<Element> {\n    return document.querySelectorAll('[scroll-region]')\n  }\n\n  public static reset(): void {\n    if (typeof window !== 'undefined') {\n      window.scrollTo(0, 0)\n    }\n\n    this.regions().forEach((region) => {\n      if (typeof region.scrollTo === 'function') {\n        region.scrollTo(0, 0)\n      } else {\n        region.scrollTop = 0\n        region.scrollLeft = 0\n      }\n    })\n\n    this.save()\n\n    if (window.location.hash) {\n      // We're using a setTimeout() here as a workaround for a bug in the React adapter where the\n      // rendering isn't completing fast enough, causing the anchor link to not be scrolled to.\n      setTimeout(() => document.getElementById(window.location.hash.slice(1))?.scrollIntoView())\n    }\n  }\n\n  public static restore(scrollRegions: ScrollRegion[]): void {\n    this.restoreDocument()\n\n    this.regions().forEach((region: Element, index: number) => {\n      const scrollPosition = scrollRegions[index]\n\n      if (!scrollPosition) {\n        return\n      }\n\n      if (typeof region.scrollTo === 'function') {\n        region.scrollTo(scrollPosition.left, scrollPosition.top)\n      } else {\n        region.scrollTop = scrollPosition.top\n        region.scrollLeft = scrollPosition.left\n      }\n    })\n  }\n\n  public static restoreDocument(): void {\n    const scrollPosition = history.getDocumentScrollPosition()\n\n    if (typeof window !== 'undefined') {\n      window.scrollTo(scrollPosition.left, scrollPosition.top)\n    }\n  }\n\n  public static onScroll(event: Event): void {\n    const target = event.target as Element\n\n    if (typeof target.hasAttribute === 'function' && target.hasAttribute('scroll-region')) {\n      this.save()\n    }\n  }\n\n  public static onWindowScroll(): void {\n    history.saveDocumentScrollPosition({\n      top: window.scrollY,\n      left: window.scrollX,\n    })\n  }\n}\n", "import deepmerge from 'deepmerge'\nimport * as qs from 'qs'\nimport { hasFiles } from './files'\nimport { isFormData, objectToFormData } from './formData'\nimport { FormDataConvertible, Method, RequestPayload, VisitOptions } from './types'\n\nexport function hrefToUrl(href: string | URL): URL {\n  return new URL(href.toString(), typeof window === 'undefined' ? undefined : window.location.toString())\n}\n\nexport const transformUrlAndData = (\n  href: string | URL,\n  data: RequestPayload,\n  method: Method,\n  forceFormData: VisitOptions['forceFormData'],\n  queryStringArrayFormat: VisitOptions['queryStringArrayFormat'],\n): [URL, RequestPayload] => {\n  let url = typeof href === 'string' ? hrefToUrl(href) : href\n\n  if ((hasFiles(data) || forceFormData) && !isFormData(data)) {\n    data = objectToFormData(data)\n  }\n\n  if (isFormData(data)) {\n    return [url, data]\n  }\n\n  const [_href, _data] = mergeDataIntoQueryString(method, url, data, queryStringArrayFormat)\n\n  return [hrefToUrl(_href), _data]\n}\n\nexport function mergeDataIntoQueryString(\n  method: Method,\n  href: URL | string,\n  data: Record<string, FormDataConvertible>,\n  qsArrayFormat: 'indices' | 'brackets' = 'brackets',\n): [string, Record<string, FormDataConvertible>] {\n  const hasHost = /^https?:\\/\\//.test(href.toString())\n  const hasAbsolutePath = hasHost || href.toString().startsWith('/')\n  const hasRelativePath = !hasAbsolutePath && !href.toString().startsWith('#') && !href.toString().startsWith('?')\n  const hasSearch = href.toString().includes('?') || (method === 'get' && Object.keys(data).length)\n  const hasHash = href.toString().includes('#')\n\n  const url = new URL(href.toString(), 'http://localhost')\n\n  if (method === 'get' && Object.keys(data).length) {\n    url.search = qs.stringify(deepmerge(qs.parse(url.search, { ignoreQueryPrefix: true }), data), {\n      encodeValuesOnly: true,\n      arrayFormat: qsArrayFormat,\n    })\n    data = {}\n  }\n\n  return [\n    [\n      hasHost ? `${url.protocol}//${url.host}` : '',\n      hasAbsolutePath ? url.pathname : '',\n      hasRelativePath ? url.pathname.substring(1) : '',\n      hasSearch ? url.search : '',\n      hasHash ? url.hash : '',\n    ].join(''),\n    data,\n  ]\n}\n\nexport function urlWithoutHash(url: URL | Location): URL {\n  url = new URL(url.href)\n  url.hash = ''\n  return url\n}\n\nexport const setHashIfSameUrl = (originUrl: URL | Location, destinationUrl: URL | Location) => {\n  if (originUrl.hash && !destinationUrl.hash && urlWithoutHash(originUrl).href === destinationUrl.href) {\n    destinationUrl.hash = originUrl.hash\n  }\n}\n\nexport const isSameUrlWithoutHash = (url1: URL | Location, url2: URL | Location): boolean => {\n  return urlWithoutHash(url1).href === urlWithoutHash(url2).href\n}\n", "import { FormDataConvertible, RequestPayload } from './types'\n\nexport function hasFiles(data: RequestPayload | FormDataConvertible): boolean {\n  return (\n    data instanceof File ||\n    data instanceof Blob ||\n    (data instanceof FileList && data.length > 0) ||\n    (data instanceof FormData && Array.from(data.values()).some((value) => hasFiles(value))) ||\n    (typeof data === 'object' && data !== null && Object.values(data).some((value) => hasFiles(value)))\n  )\n}\n", "import { FormDataConvertible } from './types'\n\nexport const isFormData = (value: any): value is FormData => value instanceof FormData\n\nexport function objectToFormData(\n  source: Record<string, FormDataConvertible>,\n  form: FormData = new FormData(),\n  parentKey: string | null = null,\n): FormData {\n  source = source || {}\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      append(form, composeKey(parentKey, key), source[key])\n    }\n  }\n\n  return form\n}\n\nfunction composeKey(parent: string | null, key: string): string {\n  return parent ? parent + '[' + key + ']' : key\n}\n\nfunction append(form: FormData, key: string, value: FormDataConvertible): void {\n  if (Array.isArray(value)) {\n    return Array.from(value.keys()).forEach((index) => append(form, composeKey(key, index.toString()), value[index]))\n  } else if (value instanceof Date) {\n    return form.append(key, value.toISOString())\n  } else if (value instanceof File) {\n    return form.append(key, value, value.name)\n  } else if (value instanceof Blob) {\n    return form.append(key, value)\n  } else if (typeof value === 'boolean') {\n    return form.append(key, value ? '1' : '0')\n  } else if (typeof value === 'string') {\n    return form.append(key, value)\n  } else if (typeof value === 'number') {\n    return form.append(key, `${value}`)\n  } else if (value === null || value === undefined) {\n    return form.append(key, '')\n  }\n\n  objectToFormData(value, form, key)\n}\n", "import { eventHandler } from './eventHandler'\nimport { fireNavigateEvent } from './events'\nimport { history } from './history'\nimport { Scroll } from './scroll'\nimport {\n  Component,\n  Page,\n  PageEvent,\n  PageHandler,\n  PageResolver,\n  PreserveStateOption,\n  RouterInitParams,\n  VisitOptions,\n} from './types'\nimport { hrefToUrl, isSameUrlWithoutHash } from './url'\n\nclass CurrentPage {\n  protected page!: Page\n  protected swapComponent!: PageHandler\n  protected resolveComponent!: PageResolver\n  protected componentId = {}\n  protected listeners: {\n    event: PageEvent\n    callback: VoidFunction\n  }[] = []\n  protected isFirstPageLoad = true\n  protected cleared = false\n\n  public init({ initialPage, swapComponent, resolveComponent }: RouterInitParams) {\n    this.page = initialPage\n    this.swapComponent = swapComponent\n    this.resolveComponent = resolveComponent\n\n    return this\n  }\n\n  public set(\n    page: Page,\n    {\n      replace = false,\n      preserveScroll = false,\n      preserveState = false,\n    }: Partial<Pick<VisitOptions, 'replace' | 'preserveScroll' | 'preserveState'>> = {},\n  ): Promise<void> {\n    this.componentId = {}\n\n    const componentId = this.componentId\n\n    if (page.clearHistory) {\n      history.clear()\n    }\n\n    return this.resolve(page.component).then((component) => {\n      if (componentId !== this.componentId) {\n        // Component has changed since we started resolving this component, bail\n        return\n      }\n\n      page.rememberedState ??= {}\n\n      const location = typeof window !== 'undefined' ? window.location : new URL(page.url)\n      replace = replace || isSameUrlWithoutHash(hrefToUrl(page.url), location)\n\n      return new Promise((resolve) => {\n        replace ? history.replaceState(page, () => resolve(null)) : history.pushState(page, () => resolve(null))\n      }).then(() => {\n        const isNewComponent = !this.isTheSame(page)\n\n        this.page = page\n        this.cleared = false\n\n        if (isNewComponent) {\n          this.fireEventsFor('newComponent')\n        }\n\n        if (this.isFirstPageLoad) {\n          this.fireEventsFor('firstLoad')\n        }\n\n        this.isFirstPageLoad = false\n\n        return this.swap({ component, page, preserveState }).then(() => {\n          if (!preserveScroll) {\n            Scroll.reset()\n          }\n\n          eventHandler.fireInternalEvent('loadDeferredProps')\n\n          if (!replace) {\n            fireNavigateEvent(page)\n          }\n        })\n      })\n    })\n  }\n\n  public setQuietly(\n    page: Page,\n    {\n      preserveState = false,\n    }: {\n      preserveState?: PreserveStateOption\n    } = {},\n  ) {\n    return this.resolve(page.component).then((component) => {\n      this.page = page\n      this.cleared = false\n      history.setCurrent(page)\n      return this.swap({ component, page, preserveState })\n    })\n  }\n\n  public clear(): void {\n    this.cleared = true\n  }\n\n  public isCleared(): boolean {\n    return this.cleared\n  }\n\n  public get(): Page {\n    return this.page\n  }\n\n  public merge(data: Partial<Page>): void {\n    this.page = { ...this.page, ...data }\n  }\n\n  public setUrlHash(hash: string): void {\n    if (!this.page.url.includes(hash)) {\n      this.page.url += hash\n    }\n  }\n\n  public remember(data: Page['rememberedState']): void {\n    this.page.rememberedState = data\n  }\n\n  public swap({\n    component,\n    page,\n    preserveState,\n  }: {\n    component: Component\n    page: Page\n    preserveState: PreserveStateOption\n  }): Promise<unknown> {\n    return this.swapComponent({ component, page, preserveState })\n  }\n\n  public resolve(component: string): Promise<Component> {\n    return Promise.resolve(this.resolveComponent(component))\n  }\n\n  public isTheSame(page: Page): boolean {\n    return this.page.component === page.component\n  }\n\n  public on(event: PageEvent, callback: VoidFunction): VoidFunction {\n    this.listeners.push({ event, callback })\n\n    return () => {\n      this.listeners = this.listeners.filter((listener) => listener.event !== event && listener.callback !== callback)\n    }\n  }\n\n  public fireEventsFor(event: PageEvent): void {\n    this.listeners.filter((listener) => listener.event === event).forEach((listener) => listener.callback())\n  }\n}\n\nexport const page = new CurrentPage()\n", "export default class Queue<T> {\n  protected items: (() => T)[] = []\n  protected processingPromise: Promise<void> | null = null\n\n  public add(item: () => T) {\n    this.items.push(item)\n    return this.process()\n  }\n\n  public process() {\n    this.processingPromise ??= this.processNext().then(() => {\n      this.processingPromise = null\n    })\n\n    return this.processingPromise\n  }\n\n  protected processNext(): Promise<void> {\n    const next = this.items.shift()\n\n    if (next) {\n      return Promise.resolve(next()).then(() => this.processNext())\n    }\n\n    return Promise.resolve()\n  }\n}\n", "import { decryptHistory, encryptHistory, historySessionStorageKeys } from './encryption'\nimport { page as currentPage } from './page'\nimport Queue from './queue'\nimport { SessionStorage } from './sessionStorage'\nimport { Page, ScrollRegion } from './types'\n\nconst isServer = typeof window === 'undefined'\nconst queue = new Queue<Promise<void>>()\nconst isChromeIOS = !isServer && /CriOS/.test(window.navigator.userAgent)\n\nclass History {\n  public rememberedState = 'rememberedState' as const\n  public scrollRegions = 'scrollRegions' as const\n  public preserveUrl = false\n  protected current: Partial<Page> = {}\n  // We need initialState for `restore`\n  protected initialState: Partial<Page> | null = null\n\n  public remember(data: unknown, key: string): void {\n    this.replaceState({\n      ...currentPage.get(),\n      rememberedState: {\n        ...(currentPage.get()?.rememberedState ?? {}),\n        [key]: data,\n      },\n    })\n  }\n\n  public restore(key: string): unknown {\n    if (!isServer) {\n      return this.initialState?.[this.rememberedState]?.[key]\n    }\n  }\n\n  public pushState(page: Page, cb: (() => void) | null = null): void {\n    if (isServer) {\n      return\n    }\n\n    if (this.preserveUrl) {\n      cb && cb()\n      return\n    }\n\n    this.current = page\n\n    queue.add(() => {\n      return this.getPageData(page).then((data) => {\n        // Defer history.pushState to the next event loop tick to prevent timing conflicts.\n        // Ensure any previous history.replaceState completes before pushState is executed.\n        const doPush = () => {\n          this.doPushState({ page: data }, page.url)\n          cb && cb()\n        }\n\n        if (isChromeIOS) {\n          setTimeout(doPush)\n        } else {\n          doPush()\n        }\n      })\n    })\n  }\n\n  protected getPageData(page: Page): Promise<Page | ArrayBuffer> {\n    return new Promise((resolve) => {\n      return page.encryptHistory ? encryptHistory(page).then(resolve) : resolve(page)\n    })\n  }\n\n  public processQueue(): Promise<void> {\n    return queue.process()\n  }\n\n  public decrypt(page: Page | null = null): Promise<Page> {\n    if (isServer) {\n      return Promise.resolve(page ?? currentPage.get())\n    }\n\n    const pageData = page ?? window.history.state?.page\n\n    return this.decryptPageData(pageData).then((data) => {\n      if (!data) {\n        throw new Error('Unable to decrypt history')\n      }\n\n      if (this.initialState === null) {\n        this.initialState = data ?? undefined\n      } else {\n        this.current = data ?? {}\n      }\n\n      return data\n    })\n  }\n\n  protected decryptPageData(pageData: ArrayBuffer | Page | null): Promise<Page | null> {\n    return pageData instanceof ArrayBuffer ? decryptHistory(pageData) : Promise.resolve(pageData)\n  }\n\n  public saveScrollPositions(scrollRegions: ScrollRegion[]): void {\n    queue.add(() => {\n      return Promise.resolve().then(() => {\n        if (!window.history.state?.page) {\n          return\n        }\n\n        this.doReplaceState(\n          {\n            page: window.history.state.page,\n            scrollRegions,\n          },\n          this.current.url!,\n        )\n      })\n    })\n  }\n\n  public saveDocumentScrollPosition(scrollRegion: ScrollRegion): void {\n    queue.add(() => {\n      return Promise.resolve().then(() => {\n        this.doReplaceState(\n          {\n            page: window.history.state.page,\n            documentScrollPosition: scrollRegion,\n          },\n          this.current.url!,\n        )\n      })\n    })\n  }\n\n  public getScrollRegions(): ScrollRegion[] {\n    return window.history.state.scrollRegions || []\n  }\n\n  public getDocumentScrollPosition(): ScrollRegion {\n    return window.history.state.documentScrollPosition || { top: 0, left: 0 }\n  }\n\n  public replaceState(page: Page, cb: (() => void) | null = null): void {\n    currentPage.merge(page)\n\n    if (isServer) {\n      return\n    }\n\n    if (this.preserveUrl) {\n      cb && cb()\n      return\n    }\n\n    this.current = page\n\n    queue.add(() => {\n      return this.getPageData(page).then((data) => {\n        // Defer history.replaceState to the next event loop tick to prevent timing conflicts.\n        // Ensure any previous history.pushState completes before replaceState is executed.\n        const doReplace = () => {\n          this.doReplaceState({ page: data }, page.url)\n          cb && cb()\n        }\n\n        if (isChromeIOS) {\n          setTimeout(doReplace)\n        } else {\n          doReplace()\n        }\n      })\n    })\n  }\n\n  protected doReplaceState(\n    data: {\n      page: Page | ArrayBuffer\n      scrollRegions?: ScrollRegion[]\n      documentScrollPosition?: ScrollRegion\n    },\n    url: string,\n  ): void {\n    window.history.replaceState(\n      {\n        ...data,\n        scrollRegions: data.scrollRegions ?? window.history.state?.scrollRegions,\n        documentScrollPosition: data.documentScrollPosition ?? window.history.state?.documentScrollPosition,\n      },\n      '',\n      url,\n    )\n  }\n\n  protected doPushState(\n    data: {\n      page: Page | ArrayBuffer\n      scrollRegions?: ScrollRegion[]\n      documentScrollPosition?: ScrollRegion\n    },\n    url: string,\n  ): void {\n    window.history.pushState(data, '', url)\n  }\n\n  public getState<T>(key: keyof Page, defaultValue?: T): any {\n    return this.current?.[key] ?? defaultValue\n  }\n\n  public deleteState(key: keyof Page) {\n    if (this.current[key] !== undefined) {\n      delete this.current[key]\n      this.replaceState(this.current as Page)\n    }\n  }\n\n  public hasAnyState(): boolean {\n    return !!this.getAllState()\n  }\n\n  public clear() {\n    SessionStorage.remove(historySessionStorageKeys.key)\n    SessionStorage.remove(historySessionStorageKeys.iv)\n  }\n\n  public setCurrent(page: Page): void {\n    this.current = page\n  }\n\n  public isValidState(state: any): boolean {\n    return !!state.page\n  }\n\n  public getAllState(): Page {\n    return this.current as Page\n  }\n}\n\nif (typeof window !== 'undefined' && window.history.scrollRestoration) {\n  window.history.scrollRestoration = 'manual'\n}\n\nexport const history = new History()\n", "import debounce from './debounce'\nimport { fireNavigateEvent } from './events'\nimport { history } from './history'\nimport { page as currentPage } from './page'\nimport { Scroll } from './scroll'\nimport { GlobalEvent, GlobalEventNames, GlobalEventResult, InternalEvent } from './types'\nimport { hrefToUrl } from './url'\n\nclass EventHandler {\n  protected internalListeners: {\n    event: InternalEvent\n    listener: VoidFunction\n  }[] = []\n\n  public init() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('popstate', this.handlePopstateEvent.bind(this))\n      window.addEventListener('scroll', debounce(Scroll.onWindowScroll.bind(Scroll), 100), true)\n    }\n\n    if (typeof document !== 'undefined') {\n      document.addEventListener('scroll', debounce(Scroll.onScroll.bind(Scroll), 100), true)\n    }\n  }\n\n  public onGlobalEvent<TEventName extends GlobalEventNames>(\n    type: TEventName,\n    callback: (event: GlobalEvent<TEventName>) => GlobalEventResult<TEventName>,\n  ): VoidFunction {\n    const listener = ((event: GlobalEvent<TEventName>) => {\n      const response = callback(event)\n\n      if (event.cancelable && !event.defaultPrevented && response === false) {\n        event.preventDefault()\n      }\n    }) as EventListener\n\n    return this.registerListener(`inertia:${type}`, listener)\n  }\n\n  public on(event: InternalEvent, callback: VoidFunction): VoidFunction {\n    this.internalListeners.push({ event, listener: callback })\n\n    return () => {\n      this.internalListeners = this.internalListeners.filter((listener) => listener.listener !== callback)\n    }\n  }\n\n  public onMissingHistoryItem() {\n    // At this point, the user has probably cleared the state\n    // Mark the current page as cleared so that we don't try to write anything to it.\n    currentPage.clear()\n    // Fire an event so that that any listeners can handle this situation\n    this.fireInternalEvent('missingHistoryItem')\n  }\n\n  public fireInternalEvent(event: InternalEvent): void {\n    this.internalListeners.filter((listener) => listener.event === event).forEach((listener) => listener.listener())\n  }\n\n  protected registerListener(type: string, listener: EventListener): VoidFunction {\n    document.addEventListener(type, listener)\n\n    return () => document.removeEventListener(type, listener)\n  }\n\n  protected handlePopstateEvent(event: PopStateEvent): void {\n    const state = event.state || null\n\n    if (state === null) {\n      const url = hrefToUrl(currentPage.get().url)\n      url.hash = window.location.hash\n\n      history.replaceState({ ...currentPage.get(), url: url.href })\n      Scroll.reset()\n\n      return\n    }\n\n    if (!history.isValidState(state)) {\n      return this.onMissingHistoryItem()\n    }\n\n    history\n      .decrypt(state.page)\n      .then((data) => {\n        currentPage.setQuietly(data, { preserveState: false }).then(() => {\n          Scroll.restore(history.getScrollRegions())\n          fireNavigateEvent(currentPage.get())\n        })\n      })\n      .catch(() => {\n        this.onMissingHistoryItem()\n      })\n  }\n}\n\nexport const eventHandler = new EventHandler()\n", "class NavigationType {\n  protected type: NavigationTimingType\n\n  public constructor() {\n    this.type = this.resolveType()\n  }\n\n  protected resolveType(): NavigationTimingType {\n    if (typeof window === 'undefined') {\n      return 'navigate'\n    }\n\n    if (\n      window.performance &&\n      window.performance.getEntriesByType &&\n      window.performance.getEntriesByType('navigation').length > 0\n    ) {\n      return (window.performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming).type\n    }\n\n    return 'navigate'\n  }\n\n  public get(): NavigationTimingType {\n    return this.type\n  }\n\n  public isBackForward(): boolean {\n    return this.type === 'back_forward'\n  }\n\n  public isReload(): boolean {\n    return this.type === 'reload'\n  }\n}\n\nexport const navigationType = new NavigationType()\n", "import { eventHandler } from './eventHandler'\nimport { fireNavigateEvent } from './events'\nimport { history } from './history'\nimport { navigationType } from './navigationType'\nimport { page as currentPage } from './page'\nimport { Scroll } from './scroll'\nimport { SessionStorage } from './sessionStorage'\nimport { LocationVisit, Page } from './types'\n\nexport class InitialVisit {\n  public static handle(): void {\n    this.clearRememberedStateOnReload()\n\n    const scenarios = [this.handleBackForward, this.handleLocation, this.handleDefault]\n\n    scenarios.find((handler) => handler.bind(this)())\n  }\n\n  protected static clearRememberedStateOnReload(): void {\n    if (navigationType.isReload()) {\n      history.deleteState(history.rememberedState)\n    }\n  }\n\n  protected static handleBackForward(): boolean {\n    if (!navigationType.isBackForward() || !history.hasAnyState()) {\n      return false\n    }\n\n    const scrollRegions = history.getScrollRegions()\n\n    history\n      .decrypt()\n      .then((data) => {\n        currentPage.set(data, { preserveScroll: true, preserveState: true }).then(() => {\n          Scroll.restore(scrollRegions)\n          fireNavigateEvent(currentPage.get())\n        })\n      })\n      .catch(() => {\n        eventHandler.onMissingHistoryItem()\n      })\n\n    return true\n  }\n\n  /**\n   * @link https://inertiajs.com/redirects#external-redirects\n   */\n  protected static handleLocation(): boolean {\n    if (!SessionStorage.exists(SessionStorage.locationVisitKey)) {\n      return false\n    }\n\n    const locationVisit: LocationVisit = SessionStorage.get(SessionStorage.locationVisitKey) || {}\n\n    SessionStorage.remove(SessionStorage.locationVisitKey)\n\n    if (typeof window !== 'undefined') {\n      currentPage.setUrlHash(window.location.hash)\n    }\n\n    history\n      .decrypt()\n      .then(() => {\n        const rememberedState = history.getState<Page['rememberedState']>(history.rememberedState, {})\n        const scrollRegions = history.getScrollRegions()\n        currentPage.remember(rememberedState)\n\n        currentPage\n          .set(currentPage.get(), {\n            preserveScroll: locationVisit.preserveScroll,\n            preserveState: true,\n          })\n          .then(() => {\n            if (locationVisit.preserveScroll) {\n              Scroll.restore(scrollRegions)\n            }\n\n            fireNavigateEvent(currentPage.get())\n          })\n      })\n      .catch(() => {\n        eventHandler.onMissingHistoryItem()\n      })\n\n    return true\n  }\n\n  protected static handleDefault(): void {\n    if (typeof window !== 'undefined') {\n      currentPage.setUrlHash(window.location.hash)\n    }\n\n    currentPage.set(currentPage.get(), { preserveScroll: true, preserveState: true }).then(() => {\n      Scroll.restore(history.getScrollRegions())\n      fireNavigateEvent(currentPage.get())\n    })\n  }\n}\n", "import { PollOptions } from './types'\n\nexport class Poll {\n  protected id: number | null = null\n  protected throttle = false\n  protected keepAlive = false\n  protected cb: VoidFunction\n  protected interval: number\n  protected cbCount = 0\n\n  constructor(interval: number, cb: VoidFunction, options: PollOptions) {\n    this.keepAlive = options.keepAlive ?? false\n\n    this.cb = cb\n    this.interval = interval\n\n    if (options.autoStart ?? true) {\n      this.start()\n    }\n  }\n\n  public stop() {\n    // console.log('stopping...', this.id)\n    if (this.id) {\n      //   console.log('clearing interval...')\n      clearInterval(this.id)\n    }\n  }\n\n  public start() {\n    if (typeof window === 'undefined') {\n      return\n    }\n\n    this.stop()\n\n    this.id = window.setInterval(() => {\n      if (!this.throttle || this.cbCount % 10 === 0) {\n        this.cb()\n      }\n\n      if (this.throttle) {\n        this.cbCount++\n      }\n    }, this.interval)\n  }\n\n  public isInBackground(hidden: boolean) {\n    this.throttle = this.keepAlive ? false : hidden\n\n    if (this.throttle) {\n      this.cbCount = 0\n    }\n  }\n}\n", "import { Poll } from './poll'\nimport { PollOptions } from './types'\n\nclass Polls {\n  protected polls: Poll[] = []\n\n  constructor() {\n    this.setupVisibilityListener()\n  }\n\n  public add(\n    interval: number,\n    cb: VoidFunction,\n    options: PollOptions,\n  ): {\n    stop: VoidFunction\n    start: VoidFunction\n  } {\n    const poll = new Poll(interval, cb, options)\n\n    this.polls.push(poll)\n\n    return {\n      stop: () => poll.stop(),\n      start: () => poll.start(),\n    }\n  }\n\n  public clear() {\n    this.polls.forEach((poll) => poll.stop())\n\n    this.polls = []\n  }\n\n  protected setupVisibilityListener() {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    document.addEventListener(\n      'visibilitychange',\n      () => {\n        this.polls.forEach((poll) => poll.isInBackground(document.hidden))\n      },\n      false,\n    )\n  }\n}\n\nexport const polls = new Polls()\n", "export const objectsAreEqual = <T>(\n  obj1: T,\n  obj2: T,\n  excludeKeys: {\n    [K in keyof T]: K\n  }[keyof T][],\n): boolean => {\n  if (obj1 === obj2) {\n    return true\n  }\n\n  for (const key in obj1) {\n    if (excludeKeys.includes(key)) {\n      continue\n    }\n\n    if (obj1[key] === obj2[key]) {\n      continue\n    }\n\n    if (!compareValues(obj1[key], obj2[key])) {\n      return false\n    }\n  }\n\n  return true\n}\n\nconst compareValues = (value1: any, value2: any): boolean => {\n  switch (typeof value1) {\n    case 'object':\n      return objectsAreEqual(value1, value2, [])\n    case 'function':\n      return value1.toString() === value2.toString()\n    default:\n      return value1 === value2\n  }\n}\n", "const conversionMap = {\n  ms: 1,\n  s: 1000,\n  m: 1000 * 60,\n  h: 1000 * 60 * 60,\n  d: 1000 * 60 * 60 * 24,\n}\n\nexport const timeToMs = (time: string | number): number => {\n  if (typeof time === 'number') {\n    return time\n  }\n\n  for (const [unit, conversion] of Object.entries(conversionMap)) {\n    if (time.endsWith(unit)) {\n      return parseFloat(time) * conversion\n    }\n  }\n\n  return parseInt(time)\n}\n", "import { objectsAreEqual } from './objectUtils'\nimport { Response } from './response'\nimport { timeToMs } from './time'\nimport {\n  ActiveVisit,\n  CacheForOption,\n  InFlightPrefetch,\n  InternalActiveVisit,\n  PrefetchedResponse,\n  PrefetchOptions,\n  PrefetchRemovalTimer,\n} from './types'\n\nclass PrefetchedRequests {\n  protected cached: PrefetchedResponse[] = []\n  protected inFlightRequests: InFlightPrefetch[] = []\n  protected removalTimers: PrefetchRemovalTimer[] = []\n  protected currentUseId: string | null = null\n\n  public add(params: ActiveVisit, sendFunc: (params: InternalActiveVisit) => void, { cacheFor }: PrefetchOptions) {\n    const inFlight = this.findInFlight(params)\n\n    if (inFlight) {\n      return Promise.resolve()\n    }\n\n    const existing = this.findCached(params)\n\n    if (!params.fresh && existing && existing.staleTimestamp > Date.now()) {\n      return Promise.resolve()\n    }\n\n    const [stale, expires] = this.extractStaleValues(cacheFor)\n\n    const promise = new Promise<Response>((resolve, reject) => {\n      sendFunc({\n        ...params,\n        onCancel: () => {\n          this.remove(params)\n          params.onCancel()\n          reject()\n        },\n        onError: (error) => {\n          this.remove(params)\n          params.onError(error)\n          reject()\n        },\n        onPrefetching(visitParams) {\n          params.onPrefetching(visitParams)\n        },\n        onPrefetched(response, visit) {\n          params.onPrefetched(response, visit)\n        },\n        onPrefetchResponse(response) {\n          resolve(response)\n        },\n      })\n    }).then((response) => {\n      this.remove(params)\n\n      this.cached.push({\n        params: { ...params },\n        staleTimestamp: Date.now() + stale,\n        response: promise,\n        singleUse: cacheFor === 0,\n        timestamp: Date.now(),\n        inFlight: false,\n      })\n\n      this.scheduleForRemoval(params, expires)\n\n      this.inFlightRequests = this.inFlightRequests.filter((prefetching) => {\n        return !this.paramsAreEqual(prefetching.params, params)\n      })\n\n      response.handlePrefetch()\n\n      return response\n    })\n\n    this.inFlightRequests.push({\n      params: { ...params },\n      response: promise,\n      staleTimestamp: null,\n      inFlight: true,\n    })\n\n    return promise\n  }\n\n  public removeAll(): void {\n    this.cached = []\n    this.removalTimers.forEach((removalTimer) => {\n      clearTimeout(removalTimer.timer)\n    })\n    this.removalTimers = []\n  }\n\n  public remove(params: ActiveVisit): void {\n    this.cached = this.cached.filter((prefetched) => {\n      return !this.paramsAreEqual(prefetched.params, params)\n    })\n\n    this.clearTimer(params)\n  }\n\n  protected extractStaleValues(cacheFor: PrefetchOptions['cacheFor']): [number, number] {\n    const [stale, expires] = this.cacheForToStaleAndExpires(cacheFor)\n\n    return [timeToMs(stale), timeToMs(expires)]\n  }\n\n  protected cacheForToStaleAndExpires(cacheFor: PrefetchOptions['cacheFor']): [CacheForOption, CacheForOption] {\n    if (!Array.isArray(cacheFor)) {\n      return [cacheFor, cacheFor]\n    }\n\n    switch (cacheFor.length) {\n      case 0:\n        return [0, 0]\n      case 1:\n        return [cacheFor[0], cacheFor[0]]\n      default:\n        return [cacheFor[0], cacheFor[1]]\n    }\n  }\n\n  protected clearTimer(params: ActiveVisit) {\n    const timer = this.removalTimers.find((removalTimer) => {\n      return this.paramsAreEqual(removalTimer.params, params)\n    })\n\n    if (timer) {\n      clearTimeout(timer.timer)\n      this.removalTimers = this.removalTimers.filter((removalTimer) => removalTimer !== timer)\n    }\n  }\n\n  protected scheduleForRemoval(params: ActiveVisit, expiresIn: number) {\n    if (typeof window === 'undefined') {\n      return\n    }\n\n    this.clearTimer(params)\n\n    if (expiresIn > 0) {\n      const timer = window.setTimeout(() => this.remove(params), expiresIn)\n\n      this.removalTimers.push({\n        params,\n        timer,\n      })\n    }\n  }\n\n  public get(params: ActiveVisit): InFlightPrefetch | PrefetchedResponse | null {\n    return this.findCached(params) || this.findInFlight(params)\n  }\n\n  public use(prefetched: PrefetchedResponse | InFlightPrefetch, params: ActiveVisit) {\n    const id = `${params.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`\n\n    this.currentUseId = id\n\n    return prefetched.response.then((response) => {\n      if (this.currentUseId !== id) {\n        // They've since gone on to `use` a different request,\n        // so we should ignore this one\n        return\n      }\n\n      response.mergeParams({ ...params, onPrefetched: () => {} })\n\n      // If this was a one-time cache, remove it\n      // (generally a prefetch=\"click\" request with no specified cache value)\n      this.removeSingleUseItems(params)\n\n      return response.handle()\n    })\n  }\n\n  protected removeSingleUseItems(params: ActiveVisit) {\n    this.cached = this.cached.filter((prefetched) => {\n      if (!this.paramsAreEqual(prefetched.params, params)) {\n        return true\n      }\n\n      return !prefetched.singleUse\n    })\n  }\n\n  public findCached(params: ActiveVisit): PrefetchedResponse | null {\n    return (\n      this.cached.find((prefetched) => {\n        return this.paramsAreEqual(prefetched.params, params)\n      }) || null\n    )\n  }\n\n  public findInFlight(params: ActiveVisit): InFlightPrefetch | null {\n    return (\n      this.inFlightRequests.find((prefetched) => {\n        return this.paramsAreEqual(prefetched.params, params)\n      }) || null\n    )\n  }\n\n  protected paramsAreEqual(params1: ActiveVisit, params2: ActiveVisit): boolean {\n    return objectsAreEqual<ActiveVisit>(params1, params2, [\n      'showProgress',\n      'replace',\n      'prefetch',\n      'onBefore',\n      'onStart',\n      'onProgress',\n      'onFinish',\n      'onCancel',\n      'onSuccess',\n      'onError',\n      'onPrefetched',\n      'onCancelToken',\n      'onPrefetching',\n      'async',\n    ])\n  }\n}\n\nexport const prefetchedRequests = new PrefetchedRequests()\n", "import { default as axios, AxiosProgressEvent, AxiosRequestConfig } from 'axios'\nimport { fireExceptionEvent, fireFinishEvent, firePrefetchingEvent, fireProgressEvent, fireStartEvent } from './events'\nimport { page as currentPage } from './page'\nimport { RequestParams } from './requestParams'\nimport { Response } from './response'\nimport { ActiveVisit, Page } from './types'\nimport { urlWithoutHash } from './url'\n\nexport class Request {\n  protected response!: Response\n  protected cancelToken!: AbortController\n  protected requestParams: RequestParams\n  protected requestHasFinished = false\n\n  constructor(\n    params: ActiveVisit,\n    protected page: Page,\n  ) {\n    this.requestParams = RequestParams.create(params)\n    this.cancelToken = new AbortController()\n  }\n\n  public static create(params: ActiveVisit, page: Page): Request {\n    return new Request(params, page)\n  }\n\n  public async send() {\n    this.requestParams.onCancelToken(() => this.cancel({ cancelled: true }))\n\n    fireStartEvent(this.requestParams.all())\n    this.requestParams.onStart()\n\n    if (this.requestParams.all().prefetch) {\n      this.requestParams.onPrefetching()\n      firePrefetchingEvent(this.requestParams.all())\n    }\n\n    // We capture this up here because the response\n    // will clear the prefetch flag so it can use it\n    // as a regular response once the prefetch is done\n    const originallyPrefetch = this.requestParams.all().prefetch\n\n    return axios({\n      method: this.requestParams.all().method,\n      url: urlWithoutHash(this.requestParams.all().url).href,\n      data: this.requestParams.data(),\n      params: this.requestParams.queryParams(),\n      signal: this.cancelToken.signal,\n      headers: this.getHeaders(),\n      onUploadProgress: this.onProgress.bind(this),\n      // Why text? This allows us to delay JSON.parse until we're ready to use the response,\n      // helps with performance particularly on large responses + history encryption\n      responseType: 'text',\n    })\n      .then((response) => {\n        this.response = Response.create(this.requestParams, response, this.page)\n\n        return this.response.handle()\n      })\n      .catch((error) => {\n        if (error?.response) {\n          this.response = Response.create(this.requestParams, error.response, this.page)\n\n          return this.response.handle()\n        }\n\n        return Promise.reject(error)\n      })\n      .catch((error) => {\n        if (axios.isCancel(error)) {\n          return\n        }\n\n        if (fireExceptionEvent(error)) {\n          return Promise.reject(error)\n        }\n      })\n      .finally(() => {\n        this.finish()\n\n        if (originallyPrefetch && this.response) {\n          this.requestParams.onPrefetchResponse(this.response)\n        }\n      })\n  }\n\n  protected finish(): void {\n    if (this.requestParams.wasCancelledAtAll()) {\n      return\n    }\n\n    this.requestParams.markAsFinished()\n    this.fireFinishEvents()\n  }\n\n  protected fireFinishEvents(): void {\n    if (this.requestHasFinished) {\n      // This could be called from multiple places, don't let it re-fire\n      return\n    }\n\n    this.requestHasFinished = true\n\n    fireFinishEvent(this.requestParams.all())\n    this.requestParams.onFinish()\n  }\n\n  public cancel({ cancelled = false, interrupted = false }: { cancelled?: boolean; interrupted?: boolean }): void {\n    if (this.requestHasFinished) {\n      // If the request has already finished, there's no need to cancel it\n      return\n    }\n\n    this.cancelToken.abort()\n\n    this.requestParams.markAsCancelled({ cancelled, interrupted })\n\n    this.fireFinishEvents()\n  }\n\n  protected onProgress(progress: AxiosProgressEvent): void {\n    if (this.requestParams.data() instanceof FormData) {\n      progress.percentage = progress.progress ? Math.round(progress.progress * 100) : 0\n      fireProgressEvent(progress)\n      this.requestParams.all().onProgress(progress)\n    }\n  }\n\n  protected getHeaders(): AxiosRequestConfig['headers'] {\n    const headers: AxiosRequestConfig['headers'] = {\n      ...this.requestParams.headers(),\n      Accept: 'text/html, application/xhtml+xml',\n      'X-Requested-With': 'XMLHttpRequest',\n      'X-Inertia': true,\n    }\n\n    if (currentPage.get().version) {\n      headers['X-Inertia-Version'] = currentPage.get().version\n    }\n\n    return headers\n  }\n}\n", "import { AxiosRequestConfig } from 'axios'\nimport { page as currentPage } from './page'\nimport { Response } from './response'\nimport { ActiveVisit, InternalActiveVisit, Page, PreserveStateOption, VisitCallbacks } from './types'\n\nexport class RequestParams {\n  protected callbacks: {\n    name: keyof VisitCallbacks\n    args: any[]\n  }[] = []\n\n  protected params: InternalActiveVisit\n\n  constructor(params: InternalActiveVisit) {\n    if (!params.prefetch) {\n      this.params = params\n    } else {\n      const wrappedCallbacks: Record<keyof VisitCallbacks, () => any> = {\n        onBefore: this.wrapCallback(params, 'onBefore'),\n        onStart: this.wrapCallback(params, 'onStart'),\n        onProgress: this.wrapCallback(params, 'onProgress'),\n        onFinish: this.wrapCallback(params, 'onFinish'),\n        onCancel: this.wrapCallback(params, 'onCancel'),\n        onSuccess: this.wrapCallback(params, 'onSuccess'),\n        onError: this.wrapCallback(params, 'onError'),\n        onCancelToken: this.wrapCallback(params, 'onCancelToken'),\n        onPrefetched: this.wrapCallback(params, 'onPrefetched'),\n        onPrefetching: this.wrapCallback(params, 'onPrefetching'),\n      }\n\n      this.params = {\n        ...params,\n        ...wrappedCallbacks,\n        onPrefetchResponse: params.onPrefetchResponse || (() => {}),\n      }\n    }\n    //\n  }\n\n  public static create(params: ActiveVisit): RequestParams {\n    return new RequestParams(params)\n  }\n\n  public data() {\n    return this.params.method === 'get' ? {} : this.params.data\n  }\n\n  public queryParams() {\n    return this.params.method === 'get' ? this.params.data : {}\n  }\n\n  public isPartial() {\n    return this.params.only.length > 0 || this.params.except.length > 0 || this.params.reset.length > 0\n  }\n\n  public onCancelToken(cb: VoidFunction) {\n    this.params.onCancelToken({\n      cancel: cb,\n    })\n  }\n\n  public markAsFinished() {\n    this.params.completed = true\n    this.params.cancelled = false\n    this.params.interrupted = false\n  }\n\n  public markAsCancelled({ cancelled = true, interrupted = false }) {\n    this.params.onCancel()\n\n    this.params.completed = false\n    this.params.cancelled = cancelled\n    this.params.interrupted = interrupted\n  }\n\n  public wasCancelledAtAll() {\n    return this.params.cancelled || this.params.interrupted\n  }\n\n  public onFinish() {\n    this.params.onFinish(this.params)\n  }\n\n  public onStart() {\n    this.params.onStart(this.params)\n  }\n\n  public onPrefetching() {\n    this.params.onPrefetching(this.params)\n  }\n\n  public onPrefetchResponse(response: Response) {\n    if (this.params.onPrefetchResponse) {\n      this.params.onPrefetchResponse(response)\n    }\n  }\n\n  public all() {\n    return this.params\n  }\n\n  public headers(): AxiosRequestConfig['headers'] {\n    const headers: AxiosRequestConfig['headers'] = {\n      ...this.params.headers,\n    }\n\n    if (this.isPartial()) {\n      headers['X-Inertia-Partial-Component'] = currentPage.get().component\n    }\n\n    const only = this.params.only.concat(this.params.reset)\n\n    if (only.length > 0) {\n      headers['X-Inertia-Partial-Data'] = only.join(',')\n    }\n\n    if (this.params.except.length > 0) {\n      headers['X-Inertia-Partial-Except'] = this.params.except.join(',')\n    }\n\n    if (this.params.reset.length > 0) {\n      headers['X-Inertia-Reset'] = this.params.reset.join(',')\n    }\n\n    if (this.params.errorBag && this.params.errorBag.length > 0) {\n      headers['X-Inertia-Error-Bag'] = this.params.errorBag\n    }\n\n    return headers\n  }\n\n  public setPreserveOptions(page: Page) {\n    this.params.preserveScroll = this.resolvePreserveOption(this.params.preserveScroll, page)\n    this.params.preserveState = this.resolvePreserveOption(this.params.preserveState, page)\n  }\n\n  public runCallbacks() {\n    this.callbacks.forEach(({ name, args }) => {\n      // @ts-ignore\n      this.params[name](...args)\n    })\n  }\n\n  public merge(toMerge: Partial<ActiveVisit>) {\n    this.params = {\n      ...this.params,\n      ...toMerge,\n    }\n  }\n\n  protected wrapCallback(params: ActiveVisit, name: keyof VisitCallbacks) {\n    // @ts-ignore\n    return (...args) => {\n      this.recordCallback(name, args)\n      // @ts-ignore\n      params[name](...args)\n    }\n  }\n\n  protected recordCallback(name: keyof VisitCallbacks, args: any[]) {\n    this.callbacks.push({ name, args })\n  }\n\n  protected resolvePreserveOption(value: PreserveStateOption, page: Page): boolean {\n    if (typeof value === 'function') {\n      return value(page)\n    }\n\n    if (value === 'errors') {\n      return Object.keys(page.props.errors || {}).length > 0\n    }\n\n    return value\n  }\n}\n", "export default {\n  modal: null,\n  listener: null,\n\n  show(html: Record<string, unknown> | string): void {\n    if (typeof html === 'object') {\n      html = `All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(\n        html,\n      )}`\n    }\n\n    const page = document.createElement('html')\n    page.innerHTML = html\n    page.querySelectorAll('a').forEach((a) => a.setAttribute('target', '_top'))\n\n    this.modal = document.createElement('div')\n    this.modal.style.position = 'fixed'\n    this.modal.style.width = '100vw'\n    this.modal.style.height = '100vh'\n    this.modal.style.padding = '50px'\n    this.modal.style.boxSizing = 'border-box'\n    this.modal.style.backgroundColor = 'rgba(0, 0, 0, .6)'\n    this.modal.style.zIndex = 200000\n    this.modal.addEventListener('click', () => this.hide())\n\n    const iframe = document.createElement('iframe')\n    iframe.style.backgroundColor = 'white'\n    iframe.style.borderRadius = '5px'\n    iframe.style.width = '100%'\n    iframe.style.height = '100%'\n    this.modal.appendChild(iframe)\n\n    document.body.prepend(this.modal)\n    document.body.style.overflow = 'hidden'\n    if (!iframe.contentWindow) {\n      throw new Error('iframe not yet ready.')\n    }\n    iframe.contentWindow.document.open()\n    iframe.contentWindow.document.write(page.outerHTML)\n    iframe.contentWindow.document.close()\n\n    this.listener = this.hideOnEscape.bind(this)\n    document.addEventListener('keydown', this.listener)\n  },\n\n  hide(): void {\n    this.modal.outerHTML = ''\n    this.modal = null\n    document.body.style.overflow = 'visible'\n    document.removeEventListener('keydown', this.listener)\n  },\n\n  hideOnEscape(event: KeyboardEvent): void {\n    if (event.keyCode === 27) {\n      this.hide()\n    }\n  },\n}\n", "import { AxiosResponse } from 'axios'\nimport { fireErrorEvent, fireInvalidEvent, firePrefetchedEvent, fireSuccessEvent } from './events'\nimport { history } from './history'\nimport modal from './modal'\nimport { page as currentPage } from './page'\nimport Queue from './queue'\nimport { RequestParams } from './requestParams'\nimport { SessionStorage } from './sessionStorage'\nimport { ActiveVisit, ErrorBag, Errors, Page } from './types'\nimport { hrefToUrl, isSameUrlWithoutHash, setHashIfSameUrl } from './url'\n\nconst queue = new Queue<Promise<boolean | void>>()\n\nexport class Response {\n  constructor(\n    protected requestParams: RequestParams,\n    protected response: AxiosResponse,\n    protected originatingPage: Page,\n  ) {}\n\n  public static create(params: RequestParams, response: AxiosResponse, originatingPage: Page): Response {\n    return new Response(params, response, originatingPage)\n  }\n\n  public async handlePrefetch() {\n    if (isSameUrlWithoutHash(this.requestParams.all().url, window.location)) {\n      this.handle()\n    }\n  }\n\n  public async handle() {\n    return queue.add(() => this.process())\n  }\n\n  public async process() {\n    if (this.requestParams.all().prefetch) {\n      this.requestParams.all().prefetch = false\n\n      this.requestParams.all().onPrefetched(this.response, this.requestParams.all())\n      firePrefetchedEvent(this.response, this.requestParams.all())\n\n      return Promise.resolve()\n    }\n\n    this.requestParams.runCallbacks()\n\n    if (!this.isInertiaResponse()) {\n      return this.handleNonInertiaResponse()\n    }\n\n    await history.processQueue()\n\n    history.preserveUrl = this.requestParams.all().preserveUrl\n\n    await this.setPage()\n\n    const errors = currentPage.get().props.errors || {}\n\n    if (Object.keys(errors).length > 0) {\n      const scopedErrors = this.getScopedErrors(errors)\n\n      fireErrorEvent(scopedErrors)\n\n      return this.requestParams.all().onError(scopedErrors)\n    }\n\n    fireSuccessEvent(currentPage.get())\n\n    await this.requestParams.all().onSuccess(currentPage.get())\n\n    history.preserveUrl = false\n  }\n\n  public mergeParams(params: ActiveVisit) {\n    this.requestParams.merge(params)\n  }\n\n  protected async handleNonInertiaResponse() {\n    if (this.isLocationVisit()) {\n      const locationUrl = hrefToUrl(this.getHeader('x-inertia-location'))\n\n      setHashIfSameUrl(this.requestParams.all().url, locationUrl)\n\n      return this.locationVisit(locationUrl)\n    }\n\n    const response = {\n      ...this.response,\n      data: this.getDataFromResponse(this.response.data),\n    }\n\n    if (fireInvalidEvent(response)) {\n      return modal.show(response.data)\n    }\n  }\n\n  protected isInertiaResponse(): boolean {\n    return this.hasHeader('x-inertia')\n  }\n\n  protected hasStatus(status: number): boolean {\n    return this.response.status === status\n  }\n\n  protected getHeader(header: string): string {\n    return this.response.headers[header]\n  }\n\n  protected hasHeader(header: string): boolean {\n    return this.getHeader(header) !== undefined\n  }\n\n  protected isLocationVisit(): boolean {\n    return this.hasStatus(409) && this.hasHeader('x-inertia-location')\n  }\n\n  /**\n   * @link https://inertiajs.com/redirects#external-redirects\n   */\n  protected locationVisit(url: URL): boolean | void {\n    try {\n      SessionStorage.set(SessionStorage.locationVisitKey, {\n        preserveScroll: this.requestParams.all().preserveScroll === true,\n      })\n\n      if (typeof window === 'undefined') {\n        return\n      }\n\n      if (isSameUrlWithoutHash(window.location, url)) {\n        window.location.reload()\n      } else {\n        window.location.href = url.href\n      }\n    } catch (error) {\n      return false\n    }\n  }\n\n  protected async setPage(): Promise<void> {\n    const pageResponse = this.getDataFromResponse(this.response.data)\n\n    if (!this.shouldSetPage(pageResponse)) {\n      return Promise.resolve()\n    }\n\n    this.mergeProps(pageResponse)\n    await this.setRememberedState(pageResponse)\n\n    this.requestParams.setPreserveOptions(pageResponse)\n\n    pageResponse.url = history.preserveUrl ? currentPage.get().url : this.pageUrl(pageResponse)\n\n    return currentPage.set(pageResponse, {\n      replace: this.requestParams.all().replace,\n      preserveScroll: this.requestParams.all().preserveScroll,\n      preserveState: this.requestParams.all().preserveState,\n    })\n  }\n\n  protected getDataFromResponse(response: any): any {\n    if (typeof response !== 'string') {\n      return response\n    }\n\n    try {\n      return JSON.parse(response)\n    } catch (error) {\n      return response\n    }\n  }\n\n  protected shouldSetPage(pageResponse: Page): boolean {\n    if (!this.requestParams.all().async) {\n      // If the request is sync, we should always set the page\n      return true\n    }\n\n    if (this.originatingPage.component !== pageResponse.component) {\n      // We originated from a component but the response re-directed us,\n      // we should respect the redirection and set the page\n      return true\n    }\n\n    // At this point, if the originating request component is different than the current component,\n    // the user has since navigated and we should discard the response\n    if (this.originatingPage.component !== currentPage.get().component) {\n      return false\n    }\n\n    const originatingUrl = hrefToUrl(this.originatingPage.url)\n    const currentPageUrl = hrefToUrl(currentPage.get().url)\n\n    // We have the same component, let's double-check the URL\n    // If we're no longer on the same path name (e.g. /users/1 -> /users/2), we should not set the page\n    return originatingUrl.origin === currentPageUrl.origin && originatingUrl.pathname === currentPageUrl.pathname\n  }\n\n  protected pageUrl(pageResponse: Page) {\n    const responseUrl = hrefToUrl(pageResponse.url)\n\n    setHashIfSameUrl(this.requestParams.all().url, responseUrl)\n\n    return responseUrl.pathname + responseUrl.search + responseUrl.hash\n  }\n\n  protected mergeProps(pageResponse: Page): void {\n    if (this.requestParams.isPartial() && pageResponse.component === currentPage.get().component) {\n      const propsToMerge = pageResponse.mergeProps || []\n\n      propsToMerge.forEach((prop) => {\n        const incomingProp = pageResponse.props[prop]\n\n        if (Array.isArray(incomingProp)) {\n          pageResponse.props[prop] = [...((currentPage.get().props[prop] || []) as any[]), ...incomingProp]\n        } else if (typeof incomingProp === 'object') {\n          pageResponse.props[prop] = {\n            ...((currentPage.get().props[prop] || []) as Record<string, any>),\n            ...incomingProp,\n          }\n        }\n      })\n\n      pageResponse.props = { ...currentPage.get().props, ...pageResponse.props }\n    }\n  }\n\n  protected async setRememberedState(pageResponse: Page): Promise<void> {\n    const rememberedState = await history.getState<Page['rememberedState']>(history.rememberedState, {})\n\n    if (\n      this.requestParams.all().preserveState &&\n      rememberedState &&\n      pageResponse.component === currentPage.get().component\n    ) {\n      pageResponse.rememberedState = rememberedState\n    }\n  }\n\n  protected getScopedErrors(errors: Errors & ErrorBag): Errors {\n    if (!this.requestParams.all().errorBag) {\n      return errors\n    }\n\n    return errors[this.requestParams.all().errorBag || ''] || {}\n  }\n}\n", "import { Request } from './request'\n\nexport class RequestStream {\n  protected requests: Request[] = []\n\n  protected maxConcurrent: number\n\n  protected interruptible: boolean\n\n  constructor({ maxConcurrent, interruptible }: { maxConcurrent: number; interruptible: boolean }) {\n    this.maxConcurrent = maxConcurrent\n    this.interruptible = interruptible\n  }\n\n  public send(request: Request) {\n    this.requests.push(request)\n\n    request.send().then(() => {\n      this.requests = this.requests.filter((r) => r !== request)\n    })\n  }\n\n  public interruptInFlight(): void {\n    this.cancel({ interrupted: true }, false)\n  }\n\n  public cancelInFlight(): void {\n    this.cancel({ cancelled: true }, true)\n  }\n\n  protected cancel({ cancelled = false, interrupted = false } = {}, force: boolean): void {\n    if (!this.shouldCancel(force)) {\n      return\n    }\n\n    const request = this.requests.shift()!\n\n    request?.cancel({ interrupted, cancelled })\n  }\n\n  protected shouldCancel(force: boolean): boolean {\n    if (force) {\n      return true\n    }\n\n    return this.interruptible && this.requests.length >= this.maxConcurrent\n  }\n}\n", "import { hideProgress, revealProgress } from '.'\nimport { eventHandler } from './eventHandler'\nimport { fireBeforeEvent } from './events'\nimport { history } from './history'\nimport { InitialVisit } from './initialVisit'\nimport { page as currentPage } from './page'\nimport { polls } from './polls'\nimport { prefetchedRequests } from './prefetched'\nimport { Request } from './request'\nimport { RequestStream } from './requestStream'\nimport { Scroll } from './scroll'\nimport {\n  ActiveVisit,\n  ClientSideVisitOptions,\n  GlobalEvent,\n  GlobalEventNames,\n  GlobalEventResult,\n  InFlightPrefetch,\n  Page,\n  PendingVisit,\n  PendingVisitOptions,\n  PollOptions,\n  PrefetchedResponse,\n  PrefetchOptions,\n  ReloadOptions,\n  RequestPayload,\n  RouterInitParams,\n  Visit,\n  VisitCallbacks,\n  VisitHelperOptions,\n  VisitOptions,\n} from './types'\nimport { transformUrlAndData } from './url'\n\nexport class Router {\n  protected syncRequestStream = new RequestStream({\n    maxConcurrent: 1,\n    interruptible: true,\n  })\n\n  protected asyncRequestStream = new RequestStream({\n    maxConcurrent: Infinity,\n    interruptible: false,\n  })\n\n  public init({ initialPage, resolveComponent, swapComponent }: RouterInitParams): void {\n    currentPage.init({\n      initialPage,\n      resolveComponent,\n      swapComponent,\n    })\n\n    InitialVisit.handle()\n\n    eventHandler.init()\n\n    eventHandler.on('missingHistoryItem', () => {\n      if (typeof window !== 'undefined') {\n        this.visit(window.location.href, { preserveState: true, preserveScroll: true, replace: true })\n      }\n    })\n\n    eventHandler.on('loadDeferredProps', () => {\n      this.loadDeferredProps()\n    })\n  }\n\n  public get(url: URL | string, data: RequestPayload = {}, options: VisitHelperOptions = {}): void {\n    return this.visit(url, { ...options, method: 'get', data })\n  }\n\n  public post(url: URL | string, data: RequestPayload = {}, options: VisitHelperOptions = {}): void {\n    return this.visit(url, { preserveState: true, ...options, method: 'post', data })\n  }\n\n  public put(url: URL | string, data: RequestPayload = {}, options: VisitHelperOptions = {}): void {\n    return this.visit(url, { preserveState: true, ...options, method: 'put', data })\n  }\n\n  public patch(url: URL | string, data: RequestPayload = {}, options: VisitHelperOptions = {}): void {\n    return this.visit(url, { preserveState: true, ...options, method: 'patch', data })\n  }\n\n  public delete(url: URL | string, options: Omit<VisitOptions, 'method'> = {}): void {\n    return this.visit(url, { preserveState: true, ...options, method: 'delete' })\n  }\n\n  public reload(options: ReloadOptions = {}): void {\n    if (typeof window === 'undefined') {\n      return\n    }\n\n    return this.visit(window.location.href, {\n      ...options,\n      preserveScroll: true,\n      preserveState: true,\n      async: true,\n      headers: {\n        ...(options.headers || {}),\n        'Cache-Control': 'no-cache',\n      },\n    })\n  }\n\n  public remember(data: unknown, key = 'default'): void {\n    history.remember(data, key)\n  }\n\n  public restore(key = 'default'): unknown {\n    return history.restore(key)\n  }\n\n  public on<TEventName extends GlobalEventNames>(\n    type: TEventName,\n    callback: (event: GlobalEvent<TEventName>) => GlobalEventResult<TEventName>,\n  ): VoidFunction {\n    if (typeof window === 'undefined') {\n      return () => {}\n    }\n\n    return eventHandler.onGlobalEvent(type, callback)\n  }\n\n  public cancel(): void {\n    this.syncRequestStream.cancelInFlight()\n  }\n\n  public cancelAll(): void {\n    this.asyncRequestStream.cancelInFlight()\n    this.syncRequestStream.cancelInFlight()\n  }\n\n  public poll(interval: number, requestOptions: ReloadOptions = {}, options: PollOptions = {}) {\n    return polls.add(interval, () => this.reload(requestOptions), {\n      autoStart: options.autoStart ?? true,\n      keepAlive: options.keepAlive ?? false,\n    })\n  }\n\n  public visit(href: string | URL, options: VisitOptions = {}): void {\n    const visit: PendingVisit = this.getPendingVisit(href, {\n      ...options,\n      showProgress: options.showProgress ?? !options.async,\n    })\n\n    const events = this.getVisitEvents(options)\n\n    // If either of these return false, we don't want to continue\n    if (events.onBefore(visit) === false || !fireBeforeEvent(visit)) {\n      return\n    }\n\n    const requestStream = visit.async ? this.asyncRequestStream : this.syncRequestStream\n\n    requestStream.interruptInFlight()\n\n    if (!currentPage.isCleared() && !visit.preserveUrl) {\n      // Save scroll regions for the current page\n      Scroll.save()\n    }\n\n    const requestParams: PendingVisit & VisitCallbacks = {\n      ...visit,\n      ...events,\n    }\n\n    const prefetched = prefetchedRequests.get(requestParams)\n\n    if (prefetched) {\n      revealProgress(prefetched.inFlight)\n      prefetchedRequests.use(prefetched, requestParams)\n    } else {\n      revealProgress(true)\n      requestStream.send(Request.create(requestParams, currentPage.get()))\n    }\n  }\n\n  public getCached(href: string | URL, options: VisitOptions = {}): InFlightPrefetch | PrefetchedResponse | null {\n    return prefetchedRequests.findCached(this.getPrefetchParams(href, options))\n  }\n\n  public flush(href: string | URL, options: VisitOptions = {}): void {\n    prefetchedRequests.remove(this.getPrefetchParams(href, options))\n  }\n\n  public flushAll(): void {\n    prefetchedRequests.removeAll()\n  }\n\n  public getPrefetching(href: string | URL, options: VisitOptions = {}): InFlightPrefetch | PrefetchedResponse | null {\n    return prefetchedRequests.findInFlight(this.getPrefetchParams(href, options))\n  }\n\n  public prefetch(href: string | URL, options: VisitOptions = {}, { cacheFor = 30_000 }: PrefetchOptions) {\n    if (options.method !== 'get') {\n      throw new Error('Prefetch requests must use the GET method')\n    }\n\n    const visit: PendingVisit = this.getPendingVisit(href, {\n      ...options,\n      async: true,\n      showProgress: false,\n      prefetch: true,\n    })\n\n    const visitUrl = visit.url.origin + visit.url.pathname + visit.url.search\n    const currentUrl = window.location.origin + window.location.pathname + window.location.search\n\n    if (visitUrl === currentUrl) {\n      // Don't prefetch the current page, you're already on it\n      return\n    }\n\n    const events = this.getVisitEvents(options)\n\n    // If either of these return false, we don't want to continue\n    if (events.onBefore(visit) === false || !fireBeforeEvent(visit)) {\n      return\n    }\n\n    hideProgress()\n\n    this.asyncRequestStream.interruptInFlight()\n\n    const requestParams: PendingVisit & VisitCallbacks = {\n      ...visit,\n      ...events,\n    }\n\n    const ensureCurrentPageIsSet = (): Promise<void> => {\n      return new Promise((resolve) => {\n        const checkIfPageIsDefined = () => {\n          if (currentPage.get()) {\n            resolve()\n          } else {\n            setTimeout(checkIfPageIsDefined, 50)\n          }\n        }\n\n        checkIfPageIsDefined()\n      })\n    }\n\n    ensureCurrentPageIsSet().then(() => {\n      prefetchedRequests.add(\n        requestParams,\n        (params) => {\n          this.asyncRequestStream.send(Request.create(params, currentPage.get()))\n        },\n        { cacheFor },\n      )\n    })\n  }\n\n  public clearHistory(): void {\n    history.clear()\n  }\n\n  public decryptHistory(): Promise<Page> {\n    return history.decrypt()\n  }\n\n  public replace(params: ClientSideVisitOptions): void {\n    this.clientVisit(params, { replace: true })\n  }\n\n  public push(params: ClientSideVisitOptions): void {\n    this.clientVisit(params)\n  }\n\n  protected clientVisit(params: ClientSideVisitOptions, { replace = false }: { replace?: boolean } = {}): void {\n    const current = currentPage.get()\n\n    const props = typeof params.props === 'function' ? params.props(current.props) : (params.props ?? current.props)\n\n    currentPage.set(\n      {\n        ...current,\n        ...params,\n        props,\n      },\n      {\n        replace,\n        preserveScroll: params.preserveScroll,\n        preserveState: params.preserveState,\n      },\n    )\n  }\n\n  protected getPrefetchParams(href: string | URL, options: VisitOptions): ActiveVisit {\n    return {\n      ...this.getPendingVisit(href, {\n        ...options,\n        async: true,\n        showProgress: false,\n        prefetch: true,\n      }),\n      ...this.getVisitEvents(options),\n    }\n  }\n\n  protected getPendingVisit(\n    href: string | URL,\n    options: VisitOptions,\n    pendingVisitOptions: Partial<PendingVisitOptions> = {},\n  ): PendingVisit {\n    const mergedOptions: Visit = {\n      method: 'get',\n      data: {},\n      replace: false,\n      preserveScroll: false,\n      preserveState: false,\n      only: [],\n      except: [],\n      headers: {},\n      errorBag: '',\n      forceFormData: false,\n      queryStringArrayFormat: 'brackets',\n      async: false,\n      showProgress: true,\n      fresh: false,\n      reset: [],\n      preserveUrl: false,\n      prefetch: false,\n      ...options,\n    }\n\n    const [url, _data] = transformUrlAndData(\n      href,\n      mergedOptions.data,\n      mergedOptions.method,\n      mergedOptions.forceFormData,\n      mergedOptions.queryStringArrayFormat,\n    )\n\n    return {\n      cancelled: false,\n      completed: false,\n      interrupted: false,\n      ...mergedOptions,\n      ...pendingVisitOptions,\n      url,\n      data: _data,\n    }\n  }\n\n  protected getVisitEvents(options: VisitOptions): VisitCallbacks {\n    return {\n      onCancelToken: options.onCancelToken || (() => {}),\n      onBefore: options.onBefore || (() => {}),\n      onStart: options.onStart || (() => {}),\n      onProgress: options.onProgress || (() => {}),\n      onFinish: options.onFinish || (() => {}),\n      onCancel: options.onCancel || (() => {}),\n      onSuccess: options.onSuccess || (() => {}),\n      onError: options.onError || (() => {}),\n      onPrefetched: options.onPrefetched || (() => {}),\n      onPrefetching: options.onPrefetching || (() => {}),\n    }\n  }\n\n  protected loadDeferredProps(): void {\n    const deferred = currentPage.get()?.deferredProps\n\n    if (deferred) {\n      Object.entries(deferred).forEach(([_, group]) => {\n        this.reload({ only: group })\n      })\n    }\n  }\n}\n", "import debounce from './debounce'\n\nconst Renderer = {\n  buildDOMElement(tag: string): ChildNode {\n    const template = document.createElement('template')\n    template.innerHTML = tag\n    const node = template.content.firstChild as Element\n\n    if (!tag.startsWith('<script ')) {\n      return node\n    }\n\n    const script = document.createElement('script')\n    script.innerHTML = node.innerHTML\n    node.getAttributeNames().forEach((name) => {\n      script.setAttribute(name, node.getAttribute(name) || '')\n    })\n\n    return script\n  },\n\n  isInertiaManagedElement(element: Element): boolean {\n    return element.nodeType === Node.ELEMENT_NODE && element.getAttribute('inertia') !== null\n  },\n\n  findMatchingElementIndex(element: Element, elements: Array<Element>): number {\n    const key = element.getAttribute('inertia')\n    if (key !== null) {\n      return elements.findIndex((element) => element.getAttribute('inertia') === key)\n    }\n\n    return -1\n  },\n\n  update: debounce(function (elements: Array<string>) {\n    const sourceElements = elements.map((element) => this.buildDOMElement(element))\n    const targetElements = Array.from(document.head.childNodes).filter((element) =>\n      this.isInertiaManagedElement(element as Element),\n    )\n\n    targetElements.forEach((targetElement) => {\n      const index = this.findMatchingElementIndex(targetElement as Element, sourceElements)\n      if (index === -1) {\n        targetElement?.parentNode?.removeChild(targetElement)\n        return\n      }\n\n      const sourceElement = sourceElements.splice(index, 1)[0]\n      if (sourceElement && !targetElement.isEqualNode(sourceElement)) {\n        targetElement?.parentNode?.replaceChild(sourceElement, targetElement)\n      }\n    })\n\n    sourceElements.forEach((element) => document.head.appendChild(element))\n  }, 1),\n}\n\nexport default function createHeadManager(\n  isServer: boolean,\n  titleCallback: (title: string) => string,\n  onUpdate: (elements: string[]) => void,\n): {\n  forceUpdate: () => void\n  createProvider: () => {\n    update: (elements: string[]) => void\n    disconnect: () => void\n  }\n} {\n  const states: Record<string, Array<string>> = {}\n  let lastProviderId = 0\n\n  function connect(): string {\n    const id = (lastProviderId += 1)\n    states[id] = []\n    return id.toString()\n  }\n\n  function disconnect(id: string): void {\n    if (id === null || Object.keys(states).indexOf(id) === -1) {\n      return\n    }\n\n    delete states[id]\n    commit()\n  }\n\n  function update(id: string, elements: Array<string> = []): void {\n    if (id !== null && Object.keys(states).indexOf(id) > -1) {\n      states[id] = elements\n    }\n\n    commit()\n  }\n\n  function collect(): Array<string> {\n    const title = titleCallback('')\n\n    const defaults: Record<string, string> = {\n      ...(title ? { title: `<title inertia=\"\">${title}</title>` } : {}),\n    }\n\n    const elements = Object.values(states)\n      .reduce((carry, elements) => carry.concat(elements), [])\n      .reduce((carry, element) => {\n        if (element.indexOf('<') === -1) {\n          return carry\n        }\n\n        if (element.indexOf('<title ') === 0) {\n          const title = element.match(/(<title [^>]+>)(.*?)(<\\/title>)/)\n          carry.title = title ? `${title[1]}${titleCallback(title[2])}${title[3]}` : element\n          return carry\n        }\n\n        const match = element.match(/ inertia=\"[^\"]+\"/)\n        if (match) {\n          carry[match[0]] = element\n        } else {\n          carry[Object.keys(carry).length] = element\n        }\n\n        return carry\n      }, defaults)\n\n    return Object.values(elements)\n  }\n\n  function commit(): void {\n    isServer ? onUpdate(collect()) : Renderer.update(collect())\n  }\n\n  // By committing during initialization, we can guarantee that the default\n  // tags are set, as well as that they exist during SSR itself.\n  commit()\n\n  return {\n    forceUpdate: commit,\n    createProvider: function () {\n      const id = connect()\n\n      return {\n        update: (elements) => update(id, elements),\n        disconnect: () => disconnect(id),\n      }\n    },\n  }\n}\n", "/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\nimport { ProgressSettings } from './types'\n\nconst baseComponentSelector = 'nprogress'\n\nconst settings: ProgressSettings = {\n  minimum: 0.08,\n  easing: 'linear',\n  positionUsing: 'translate3d',\n  speed: 200,\n  trickle: true,\n  trickleSpeed: 200,\n  showSpinner: true,\n  barSelector: '[role=\"bar\"]',\n  spinnerSelector: '[role=\"spinner\"]',\n  parent: 'body',\n  color: '#29d',\n  includeCSS: true,\n  template: [\n    '<div class=\"bar\" role=\"bar\">',\n    '<div class=\"peg\"></div>',\n    '</div>',\n    '<div class=\"spinner\" role=\"spinner\">',\n    '<div class=\"spinner-icon\"></div>',\n    '</div>',\n  ].join(''),\n}\n\nlet status: number | null = null\n\nconst configure = (options: Partial<ProgressSettings>) => {\n  Object.assign(settings, options)\n\n  if (settings.includeCSS) {\n    injectCSS(settings.color)\n  }\n}\n\n/**\n * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n */\nconst set = (n: number) => {\n  const started = isStarted()\n\n  n = clamp(n, settings.minimum, 1)\n  status = n === 1 ? null : n\n\n  const progress = render(!started)\n  const bar = progress.querySelector(settings.barSelector)! as HTMLElement\n  const speed = settings.speed\n  const ease = settings.easing\n\n  progress.offsetWidth /* Repaint */\n\n  queue((next) => {\n    const barStyles = ((): Partial<CSSStyleDeclaration> => {\n      if (settings.positionUsing === 'translate3d') {\n        return {\n          transition: `all ${speed}ms ${ease}`,\n          transform: `translate3d(${toBarPercentage(n)}%,0,0)`,\n        }\n      }\n\n      if (settings.positionUsing === 'translate') {\n        return {\n          transition: `all ${speed}ms ${ease}`,\n          transform: `translate(${toBarPercentage(n)}%,0)`,\n        }\n      }\n\n      return { marginLeft: `${toBarPercentage(n)}%` }\n    })()\n\n    for (const key in barStyles) {\n      bar.style[key] = barStyles[key]!\n    }\n\n    if (n !== 1) {\n      return setTimeout(next, speed)\n    }\n\n    // Fade out\n    progress.style.transition = 'none'\n    progress.style.opacity = '1'\n    progress.offsetWidth /* Repaint */\n\n    setTimeout(() => {\n      progress.style.transition = `all ${speed}ms linear`\n      progress.style.opacity = '0'\n\n      setTimeout(() => {\n        remove()\n        next()\n      }, speed)\n    }, speed)\n  })\n}\n\nconst isStarted = () => typeof status === 'number'\n\n/**\n * Shows the progress bar.\n * This is the same as setting the status to 0%, except that it doesn't go backwards.\n */\nconst start = () => {\n  if (!status) {\n    set(0)\n  }\n\n  const work = function () {\n    setTimeout(function () {\n      if (!status) {\n        return\n      }\n\n      increaseByRandom()\n      work()\n    }, settings.trickleSpeed)\n  }\n\n  if (settings.trickle) {\n    work()\n  }\n}\n\n/**\n * Hides the progress bar.\n * This is the *sort of* the same as setting the status to 100%, with the\n * difference being `done()` makes some placebo effect of some realistic motion.\n *\n * If `true` is passed, it will show the progress bar even if it's hidden.\n */\nconst done = (force?: boolean) => {\n  if (!force && !status) {\n    return\n  }\n\n  increaseByRandom(0.3 + 0.5 * Math.random())\n  set(1)\n}\n\nconst increaseByRandom = (amount?: number) => {\n  const n = status\n\n  if (n === null) {\n    return start()\n  }\n\n  if (n > 1) {\n    return\n  }\n\n  amount =\n    typeof amount === 'number'\n      ? amount\n      : (() => {\n          const ranges: Record<number, [number, number]> = {\n            0.1: [0, 0.2],\n            0.04: [0.2, 0.5],\n            0.02: [0.5, 0.8],\n            0.005: [0.8, 0.99],\n          }\n\n          for (const r in ranges) {\n            if (n >= ranges[r][0] && n < ranges[r][1]) {\n              return parseFloat(r)\n            }\n          }\n\n          return 0\n        })()\n\n  return set(clamp(n + amount, 0, 0.994))\n}\n\n/**\n * (Internal) renders the progress bar markup based on the `template` setting.\n */\nconst render = (fromStart: boolean) => {\n  if (isRendered()) {\n    return document.getElementById(baseComponentSelector)!\n  }\n\n  document.documentElement.classList.add(`${baseComponentSelector}-busy`)\n\n  const progress = document.createElement('div')\n  progress.id = baseComponentSelector\n  progress.innerHTML = settings.template\n\n  const bar = progress.querySelector(settings.barSelector)! as HTMLElement\n  const perc = fromStart ? '-100' : toBarPercentage(status || 0)\n  const parent = getParent()\n\n  bar.style.transition = 'all 0 linear'\n  bar.style.transform = `translate3d(${perc}%,0,0)`\n\n  if (!settings.showSpinner) {\n    progress.querySelector(settings.spinnerSelector)?.remove()\n  }\n\n  if (parent !== document.body) {\n    parent.classList.add(`${baseComponentSelector}-custom-parent`)\n  }\n\n  parent.appendChild(progress)\n\n  return progress\n}\n\nconst getParent = (): HTMLElement => {\n  return (isDOM(settings.parent) ? settings.parent : document.querySelector(settings.parent)) as HTMLElement\n}\n\nconst remove = () => {\n  document.documentElement.classList.remove(`${baseComponentSelector}-busy`)\n  getParent().classList.remove(`${baseComponentSelector}-custom-parent`)\n  document.getElementById(baseComponentSelector)?.remove()\n}\n\nconst isRendered = () => {\n  return document.getElementById(baseComponentSelector) !== null\n}\n\nconst isDOM = (obj: any) => {\n  if (typeof HTMLElement === 'object') {\n    return obj instanceof HTMLElement\n  }\n\n  return obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.nodeName === 'string'\n}\n\nfunction clamp(n: number, min: number, max: number): number {\n  if (n < min) {\n    return min\n  }\n\n  if (n > max) {\n    return max\n  }\n\n  return n\n}\n\n// Converts a percentage (`0..1`) to a bar translateX percentage (`-100%..0%`).\nconst toBarPercentage = (n: number) => (-1 + n) * 100\n\n// Queues a function to be executed.\nconst queue = (() => {\n  const pending: ((...args: any[]) => any)[] = []\n\n  const next = () => {\n    const fn = pending.shift()\n\n    if (fn) {\n      fn(next)\n    }\n  }\n\n  return (fn: (...args: any[]) => any) => {\n    pending.push(fn)\n\n    if (pending.length === 1) {\n      next()\n    }\n  }\n})()\n\nconst injectCSS = (color: string): void => {\n  const element = document.createElement('style')\n\n  element.textContent = `\n    #${baseComponentSelector} {\n      pointer-events: none;\n    }\n\n    #${baseComponentSelector} .bar {\n      background: ${color};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #${baseComponentSelector} .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n      opacity: 1.0;\n\n      transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #${baseComponentSelector} .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #${baseComponentSelector} .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${color};\n      border-left-color: ${color};\n      border-radius: 50%;\n\n      animation: ${baseComponentSelector}-spinner 400ms linear infinite;\n    }\n\n    .${baseComponentSelector}-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .${baseComponentSelector}-custom-parent #${baseComponentSelector} .spinner,\n    .${baseComponentSelector}-custom-parent #${baseComponentSelector} .bar {\n      position: absolute;\n    }\n\n    @keyframes ${baseComponentSelector}-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `\n  document.head.appendChild(element)\n}\n\nconst hiddenStyles = (() => {\n  if (typeof document === 'undefined') {\n    return null\n  }\n\n  const el = document.createElement('style')\n\n  el.innerHTML = `#${baseComponentSelector} { display: none; }`\n\n  return el\n})()\n\nconst show = () => {\n  if (hiddenStyles && document.head.contains(hiddenStyles)) {\n    return document.head.removeChild(hiddenStyles)\n  }\n}\n\nconst hide = () => {\n  if (hiddenStyles && !document.head.contains(hiddenStyles)) {\n    document.head.appendChild(hiddenStyles)\n  }\n}\n\nexport default {\n  configure,\n  isStarted,\n  done,\n  set,\n  remove,\n  start,\n  status,\n  show,\n  hide,\n}\n", "import ProgressComponent from './progress-component'\nimport { GlobalEvent } from './types'\n\nlet hideCount = 0\n\nexport const reveal = (force = false) => {\n  hideCount = Math.max(0, hideCount - 1)\n\n  if (force || hideCount === 0) {\n    ProgressComponent.show()\n  }\n}\n\nexport const hide = () => {\n  hideCount++\n\n  ProgressComponent.hide()\n}\n\nfunction addEventListeners(delay: number): void {\n  document.addEventListener('inertia:start', (e) => start(e, delay))\n  document.addEventListener('inertia:progress', progress)\n}\n\nfunction start(event: GlobalEvent<'start'>, delay: number): void {\n  if (!event.detail.visit.showProgress) {\n    hide()\n  }\n\n  const timeout = setTimeout(() => ProgressComponent.start(), delay)\n  document.addEventListener('inertia:finish', (e) => finish(e, timeout), { once: true })\n}\n\nfunction progress(event: GlobalEvent<'progress'>): void {\n  if (ProgressComponent.isStarted() && event.detail.progress?.percentage) {\n    ProgressComponent.set(Math.max(ProgressComponent.status!, (event.detail.progress.percentage / 100) * 0.9))\n  }\n}\n\nfunction finish(event: GlobalEvent<'finish'>, timeout: NodeJS.Timeout): void {\n  clearTimeout(timeout!)\n\n  if (!ProgressComponent.isStarted()) {\n    return\n  }\n\n  if (event.detail.visit.completed) {\n    ProgressComponent.done()\n  } else if (event.detail.visit.interrupted) {\n    ProgressComponent.set(0)\n  } else if (event.detail.visit.cancelled) {\n    ProgressComponent.done()\n    ProgressComponent.remove()\n  }\n}\n\nexport default function setupProgress({\n  delay = 250,\n  color = '#29d',\n  includeCSS = true,\n  showSpinner = false,\n} = {}): void {\n  addEventListeners(delay)\n  ProgressComponent.configure({ showSpinner, includeCSS, color })\n}\n", "// The actual event passed to this function could be a native JavaScript event\n// or a React synthetic event, so we are picking just the keys needed here (that\n// are present in both types).\n\nexport default function shouldIntercept(\n  event: Pick<\n    MouseEvent,\n    'altKey' | 'ctrlKey' | 'defaultPrevented' | 'target' | 'currentTarget' | 'metaKey' | 'shiftKey' | 'button'\n  >,\n): boolean {\n  const isLink = (event.currentTarget as HTMLElement).tagName.toLowerCase() === 'a'\n\n  return !(\n    (event.target && (event?.target as HTMLElement).isContentEditable) ||\n    event.defaultPrevented ||\n    (isLink && event.altKey) ||\n    (isLink && event.ctrlKey) ||\n    (isLink && event.metaKey) ||\n    (isLink && event.shiftKey) ||\n    (isLink && 'button' in event && event.button !== 0)\n  )\n}\n", "import { Router } from './router'\n\nexport { default as createHeadManager } from './head'\nexport { hide as hideProgress, reveal as revealProgress, default as setupProgress } from './progress'\nexport { default as shouldIntercept } from './shouldIntercept'\nexport * from './types'\nexport { hrefToUrl, mergeDataIntoQueryString, urlWithoutHash } from './url'\nexport { type Router }\n\nexport const router = new Router()\n", "import { router as Router } from '@inertiajs/core'\n\nexport const router = Router\nexport { default as createInertiaApp } from './createInertiaApp'\nexport { default as Deferred } from './Deferred'\nexport { default as Head } from './Head'\nexport { InertiaLinkProps, default as Link } from './Link'\nexport { InertiaFormProps, default as useForm } from './useForm'\nexport { default as usePage } from './usePage'\nexport { default as usePoll } from './usePoll'\nexport { default as usePrefetch } from './usePrefetch'\nexport { default as useRemember } from './useRemember'\nexport { default as WhenVisible } from './WhenVisible'\n", "import { Page, PageProps, PageResolver, router, setupProgress } from '@inertiajs/core'\nimport { ComponentType, FunctionComponent, Key, ReactElement, ReactNode, createElement } from 'react'\nimport { renderToString } from 'react-dom/server'\nimport App from './App'\n\ntype ReactInstance = ReactElement\ntype ReactComponent = ReactNode\n\ntype HeadManagerOnUpdate = (elements: string[]) => void // TODO: When shipped, replace with: Inertia.HeadManagerOnUpdate\ntype HeadManagerTitleCallback = (title: string) => string // TODO: When shipped, replace with: Inertia.HeadManagerTitleCallback\n\ntype AppType<SharedProps extends PageProps = PageProps> = FunctionComponent<\n  {\n    children?: (props: { Component: ComponentType; key: Key; props: Page<SharedProps>['props'] }) => ReactNode\n  } & SetupOptions<unknown, SharedProps>['props']\n>\n\nexport type SetupOptions<ElementType, SharedProps extends PageProps> = {\n  el: ElementType\n  App: AppType\n  props: {\n    initialPage: Page<SharedProps>\n    initialComponent: ReactComponent\n    resolveComponent: PageResolver\n    titleCallback?: HeadManagerTitleCallback\n    onHeadUpdate?: HeadManagerOnUpdate\n  }\n}\n\ntype BaseInertiaAppOptions = {\n  title?: HeadManagerTitleCallback\n  resolve: PageResolver\n}\n\ntype CreateInertiaAppSetupReturnType = ReactInstance | void\ntype InertiaAppOptionsForCSR<SharedProps extends PageProps> = BaseInertiaAppOptions & {\n  id?: string\n  page?: Page | string\n  render?: undefined\n  progress?:\n    | false\n    | {\n        delay?: number\n        color?: string\n        includeCSS?: boolean\n        showSpinner?: boolean\n      }\n  setup(options: SetupOptions<HTMLElement, SharedProps>): CreateInertiaAppSetupReturnType\n}\n\ntype CreateInertiaAppSSRContent = { head: string[]; body: string }\ntype InertiaAppOptionsForSSR<SharedProps extends PageProps> = BaseInertiaAppOptions & {\n  id?: undefined\n  page: Page | string\n  render: typeof renderToString\n  progress?: undefined\n  setup(options: SetupOptions<null, SharedProps>): ReactInstance\n}\n\nexport default async function createInertiaApp<SharedProps extends PageProps = PageProps>(\n  options: InertiaAppOptionsForCSR<SharedProps>,\n): Promise<CreateInertiaAppSetupReturnType>\nexport default async function createInertiaApp<SharedProps extends PageProps = PageProps>(\n  options: InertiaAppOptionsForSSR<SharedProps>,\n): Promise<CreateInertiaAppSSRContent>\nexport default async function createInertiaApp<SharedProps extends PageProps = PageProps>({\n  id = 'app',\n  resolve,\n  setup,\n  title,\n  progress = {},\n  page,\n  render,\n}: InertiaAppOptionsForCSR<SharedProps> | InertiaAppOptionsForSSR<SharedProps>): Promise<\n  CreateInertiaAppSetupReturnType | CreateInertiaAppSSRContent\n> {\n  const isServer = typeof window === 'undefined'\n  const el = isServer ? null : document.getElementById(id)\n  const initialPage = page || JSON.parse(el.dataset.page)\n  // @ts-expect-error\n  const resolveComponent = (name) => Promise.resolve(resolve(name)).then((module) => module.default || module)\n\n  let head = []\n\n  const reactApp = await Promise.all([\n    resolveComponent(initialPage.component),\n    router.decryptHistory().catch(() => {}),\n  ]).then(([initialComponent]) => {\n    return setup({\n      // @ts-expect-error\n      el,\n      App,\n      props: {\n        initialPage,\n        initialComponent,\n        resolveComponent,\n        titleCallback: title,\n        onHeadUpdate: isServer ? (elements) => (head = elements) : null,\n      },\n    })\n  })\n\n  if (!isServer && progress) {\n    setupProgress(progress)\n  }\n\n  if (isServer) {\n    const body = await render(\n      createElement(\n        'div',\n        {\n          id,\n          'data-page': JSON.stringify(initialPage),\n        },\n        // @ts-expect-error\n        reactApp,\n      ),\n    )\n\n    return { head, body }\n  }\n}\n", "import { createHeadManager, router } from '@inertiajs/core'\nimport { createElement, useEffect, useMemo, useState } from 'react'\nimport HeadContext from './HeadContext'\nimport PageContext from './PageContext'\n\nexport default function App({\n  children,\n  initialPage,\n  initialComponent,\n  resolveComponent,\n  titleCallback,\n  onHeadUpdate,\n}) {\n  const [current, setCurrent] = useState({\n    component: initialComponent || null,\n    page: initialPage,\n    key: null,\n  })\n\n  const headManager = useMemo(() => {\n    return createHeadManager(\n      typeof window === 'undefined',\n      titleCallback || ((title) => title),\n      onHeadUpdate || (() => {}),\n    )\n  }, [])\n\n  useEffect(() => {\n    router.init({\n      initialPage,\n      resolveComponent,\n      swapComponent: async ({ component, page, preserveState }) => {\n        setCurrent((current) => ({\n          component,\n          page,\n          key: preserveState ? current.key : Date.now(),\n        }))\n      },\n    })\n\n    router.on('navigate', () => headManager.forceUpdate())\n  }, [])\n\n  if (!current.component) {\n    return createElement(\n      HeadContext.Provider,\n      { value: headManager },\n      createElement(PageContext.Provider, { value: current.page }, null),\n    )\n  }\n\n  const renderChildren =\n    children ||\n    (({ Component, props, key }) => {\n      const child = createElement(Component, { key, ...props })\n\n      if (typeof Component.layout === 'function') {\n        return Component.layout(child)\n      }\n\n      if (Array.isArray(Component.layout)) {\n        return Component.layout\n          .concat(child)\n          .reverse()\n          .reduce((children, Layout) => createElement(Layout, { children, ...props }))\n      }\n\n      return child\n    })\n\n  return createElement(\n    HeadContext.Provider,\n    { value: headManager },\n    createElement(\n      PageContext.Provider,\n      { value: current.page },\n      renderChildren({\n        Component: current.component,\n        key: current.key,\n        props: current.page.props,\n      }),\n    ),\n  )\n}\n\nApp.displayName = 'Inertia'\n", "import { createContext } from 'react'\n\nconst headContext = createContext(undefined)\nheadContext.displayName = 'InertiaHeadContext'\n\nexport default headContext\n", "import { createContext } from 'react'\n\nconst pageContext = createContext(undefined)\npageContext.displayName = 'InertiaPageContext'\n\nexport default pageContext\n", "import { ReactElement, useEffect, useState } from 'react'\nimport usePage from './usePage'\n\ninterface DeferredProps {\n  children: ReactElement | number | string\n  fallback: ReactElement | number | string\n  data: string | string[]\n}\n\nconst Deferred = ({ children, data, fallback }: DeferredProps) => {\n  if (!data) {\n    throw new Error('`<Deferred>` requires a `data` prop')\n  }\n\n  const [loaded, setLoaded] = useState(false)\n  const pageProps = usePage().props\n  const keys = Array.isArray(data) ? data : [data]\n\n  useEffect(() => {\n    setLoaded(keys.every((key) => pageProps[key] !== undefined))\n  }, [pageProps, keys])\n\n  return loaded ? children : fallback\n}\n\nDeferred.displayName = 'InertiaDeferred'\n\nexport default Deferred\n", "import { Page, PageProps } from '@inertiajs/core'\nimport { useContext } from 'react'\nimport PageContext from './PageContext'\n\nexport default function usePage<TPageProps extends PageProps = PageProps>(): Page<TPageProps> {\n  const page = useContext(PageContext)\n\n  if (!page) {\n    throw new Error('usePage must be used within the Inertia component')\n  }\n\n  return page\n}\n", "import React, { FunctionComponent, useContext, useEffect, useMemo } from 'react'\nimport HeadContext from './HeadContext'\n\ntype InertiaHeadProps = {\n  title?: string\n  children?: React.ReactNode\n}\n\ntype InertiaHead = FunctionComponent<InertiaHeadProps>\n\nconst Head: InertiaHead = function ({ children, title }) {\n  const headManager = useContext(HeadContext)\n  const provider = useMemo(() => headManager.createProvider(), [headManager])\n\n  useEffect(() => {\n    return () => {\n      provider.disconnect()\n    }\n  }, [provider])\n\n  function isUnaryTag(node) {\n    return (\n      [\n        'area',\n        'base',\n        'br',\n        'col',\n        'embed',\n        'hr',\n        'img',\n        'input',\n        'keygen',\n        'link',\n        'meta',\n        'param',\n        'source',\n        'track',\n        'wbr',\n      ].indexOf(node.type) > -1\n    )\n  }\n\n  function renderTagStart(node) {\n    const attrs = Object.keys(node.props).reduce((carry, name) => {\n      if (['head-key', 'children', 'dangerouslySetInnerHTML'].includes(name)) {\n        return carry\n      }\n      const value = node.props[name]\n      if (value === '') {\n        return carry + ` ${name}`\n      } else {\n        return carry + ` ${name}=\"${value}\"`\n      }\n    }, '')\n    return `<${node.type}${attrs}>`\n  }\n\n  function renderTagChildren(node) {\n    return typeof node.props.children === 'string'\n      ? node.props.children\n      : node.props.children.reduce((html, child) => html + renderTag(child), '')\n  }\n\n  function renderTag(node) {\n    let html = renderTagStart(node)\n    if (node.props.children) {\n      html += renderTagChildren(node)\n    }\n    if (node.props.dangerouslySetInnerHTML) {\n      html += node.props.dangerouslySetInnerHTML.__html\n    }\n    if (!isUnaryTag(node)) {\n      html += `</${node.type}>`\n    }\n    return html\n  }\n\n  function ensureNodeHasInertiaProp(node) {\n    return React.cloneElement(node, {\n      inertia: node.props['head-key'] !== undefined ? node.props['head-key'] : '',\n    })\n  }\n\n  function renderNode(node) {\n    return renderTag(ensureNodeHasInertiaProp(node))\n  }\n\n  function renderNodes(nodes) {\n    const computed = React.Children.toArray(nodes)\n      .filter((node) => node)\n      .map((node) => renderNode(node))\n    if (title && !computed.find((tag) => tag.startsWith('<title'))) {\n      computed.push(`<title inertia>${title}</title>`)\n    }\n    return computed\n  }\n\n  provider.update(renderNodes(children))\n\n  return null\n}\nexport default Head\n", "import {\n  FormDataConvertible,\n  LinkPrefetchOption,\n  mergeDataIntoQueryString,\n  Method,\n  PendingVisit,\n  PreserveStateOption,\n  Progress,\n  router,\n  shouldIntercept,\n} from '@inertiajs/core'\nimport { createElement, forwardRef, useEffect, useMemo, useRef, useState } from 'react'\n\nconst noop = () => undefined\n\ninterface BaseInertiaLinkProps {\n  as?: string\n  data?: Record<string, FormDataConvertible>\n  href: string\n  method?: Method\n  headers?: Record<string, string>\n  onClick?: (event: React.MouseEvent<Element>) => void\n  preserveScroll?: PreserveStateOption\n  preserveState?: PreserveStateOption\n  replace?: boolean\n  only?: string[]\n  except?: string[]\n  onCancelToken?: (cancelToken: import('axios').CancelTokenSource) => void\n  onBefore?: () => void\n  onStart?: (event: PendingVisit) => void\n  onProgress?: (progress: Progress) => void\n  onFinish?: (event: PendingVisit) => void\n  onCancel?: () => void\n  onSuccess?: () => void\n  onError?: () => void\n  queryStringArrayFormat?: 'indices' | 'brackets'\n  async?: boolean\n  cacheFor?: number | string\n  prefetch?: boolean | LinkPrefetchOption | LinkPrefetchOption[]\n}\n\nexport type InertiaLinkProps = BaseInertiaLinkProps &\n  Omit<React.HTMLAttributes<HTMLElement>, keyof BaseInertiaLinkProps> &\n  Omit<React.AllHTMLAttributes<HTMLElement>, keyof BaseInertiaLinkProps>\n\nconst Link = forwardRef<unknown, InertiaLinkProps>(\n  (\n    {\n      children,\n      as = 'a',\n      data = {},\n      href,\n      method = 'get',\n      preserveScroll = false,\n      preserveState = null,\n      replace = false,\n      only = [],\n      except = [],\n      headers = {},\n      queryStringArrayFormat = 'brackets',\n      async = false,\n      onClick = noop,\n      onCancelToken = noop,\n      onBefore = noop,\n      onStart = noop,\n      onProgress = noop,\n      onFinish = noop,\n      onCancel = noop,\n      onSuccess = noop,\n      onError = noop,\n      prefetch = false,\n      cacheFor = 0,\n      ...props\n    },\n    ref,\n  ) => {\n    const [inFlightCount, setInFlightCount] = useState(0)\n    const hoverTimeout = useRef<number>(null)\n\n    as = as.toLowerCase()\n    method = method.toLowerCase() as Method\n    const [_href, _data] = mergeDataIntoQueryString(method, href || '', data, queryStringArrayFormat)\n    href = _href\n    data = _data\n\n    const baseParams = {\n      data,\n      method,\n      preserveScroll,\n      preserveState: preserveState ?? method !== 'get',\n      replace,\n      only,\n      except,\n      headers,\n      async,\n    }\n\n    const visitParams = {\n      ...baseParams,\n      onCancelToken,\n      onBefore,\n      onStart(event) {\n        setInFlightCount((count) => count + 1)\n        onStart(event)\n      },\n      onProgress,\n      onFinish(event) {\n        setInFlightCount((count) => count - 1)\n        onFinish(event)\n      },\n      onCancel,\n      onSuccess,\n      onError,\n    }\n\n    const doPrefetch = () => {\n      router.prefetch(href, baseParams, { cacheFor: cacheForValue })\n    }\n\n    const prefetchModes: LinkPrefetchOption[] = useMemo(\n      () => {\n        if (prefetch === true) {\n          return ['hover']\n        }\n\n        if (prefetch === false) {\n          return []\n        }\n\n        if (Array.isArray(prefetch)) {\n          return prefetch\n        }\n\n        return [prefetch]\n      },\n      Array.isArray(prefetch) ? prefetch : [prefetch],\n    )\n\n    const cacheForValue = useMemo(() => {\n      if (cacheFor !== 0) {\n        // If they've provided a value, respect it\n        return cacheFor\n      }\n\n      if (prefetchModes.length === 1 && prefetchModes[0] === 'click') {\n        // If they've only provided a prefetch mode of 'click',\n        // we should only prefetch for the next request but not keep it around\n        return 0\n      }\n\n      // Otherwise, default to 30 seconds\n      return 30_000\n    }, [cacheFor, prefetchModes])\n\n    useEffect(() => {\n      return () => {\n        clearTimeout(hoverTimeout.current)\n      }\n    }, [])\n\n    useEffect(() => {\n      if (prefetchModes.includes('mount')) {\n        setTimeout(() => doPrefetch())\n      }\n    }, prefetchModes)\n\n    const regularEvents = {\n      onClick: (event) => {\n        onClick(event)\n\n        if (shouldIntercept(event)) {\n          event.preventDefault()\n\n          router.visit(href, visitParams)\n        }\n      },\n    }\n\n    const prefetchHoverEvents = {\n      onMouseEnter: () => {\n        hoverTimeout.current = window.setTimeout(() => {\n          doPrefetch()\n        }, 75)\n      },\n      onMouseLeave: () => {\n        clearTimeout(hoverTimeout.current)\n      },\n      onClick: regularEvents.onClick,\n    }\n\n    const prefetchClickEvents = {\n      onMouseDown: (event) => {\n        if (shouldIntercept(event)) {\n          event.preventDefault()\n          doPrefetch()\n        }\n      },\n      onMouseUp: (event) => {\n        event.preventDefault()\n        router.visit(href, visitParams)\n      },\n      onClick: (event) => {\n        onClick(event)\n\n        if (shouldIntercept(event)) {\n          // Let the mouseup event handle the visit\n          event.preventDefault()\n        }\n      },\n    }\n\n    if (method !== 'get') {\n      as = 'button'\n    }\n\n    const elProps = {\n      a: { href },\n      button: { type: 'button' },\n    }\n\n    return createElement(\n      as,\n      {\n        ...props,\n        ...(elProps[as] || {}),\n        ref,\n        ...(() => {\n          if (prefetchModes.includes('hover')) {\n            return prefetchHoverEvents\n          }\n\n          if (prefetchModes.includes('click')) {\n            return prefetchClickEvents\n          }\n\n          return regularEvents\n        })(),\n        'data-loading': inFlightCount > 0 ? '' : undefined,\n      },\n      children,\n    )\n  },\n)\nLink.displayName = 'InertiaLink'\n\nexport default Link\n", "import { FormDataConvertible, Method, Progress, router, VisitOptions } from '@inertiajs/core'\nimport isEqual from 'lodash.isequal'\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport useRemember from './useRemember'\n\ntype setDataByObject<TForm> = (data: TForm) => void\ntype setDataByMethod<TForm> = (data: (previousData: TForm) => TForm) => void\ntype setDataByKeyValuePair<TForm> = <K extends keyof TForm>(key: K, value: TForm[K]) => void\ntype FormDataType = Record<string, FormDataConvertible>\ntype FormOptions = Omit<VisitOptions, 'data'>\n\nexport interface InertiaFormProps<TForm extends FormDataType> {\n  data: TForm\n  isDirty: boolean\n  errors: Partial<Record<keyof TForm, string>>\n  hasErrors: boolean\n  processing: boolean\n  progress: Progress | null\n  wasSuccessful: boolean\n  recentlySuccessful: boolean\n  setData: setDataByObject<TForm> & setDataByMethod<TForm> & setDataByKeyValuePair<TForm>\n  transform: (callback: (data: TForm) => object) => void\n  setDefaults(): void\n  setDefaults(field: keyof TForm, value: FormDataConvertible): void\n  setDefaults(fields: Partial<TForm>): void\n  reset: (...fields: (keyof TForm)[]) => void\n  clearErrors: (...fields: (keyof TForm)[]) => void\n  setError(field: keyof TForm, value: string): void\n  setError(errors: Record<keyof TForm, string>): void\n  submit: (method: Method, url: string, options?: FormOptions) => void\n  get: (url: string, options?: FormOptions) => void\n  patch: (url: string, options?: FormOptions) => void\n  post: (url: string, options?: FormOptions) => void\n  put: (url: string, options?: FormOptions) => void\n  delete: (url: string, options?: FormOptions) => void\n  cancel: () => void\n}\nexport default function useForm<TForm extends FormDataType>(initialValues?: TForm): InertiaFormProps<TForm>\nexport default function useForm<TForm extends FormDataType>(\n  rememberKey: string,\n  initialValues?: TForm,\n): InertiaFormProps<TForm>\nexport default function useForm<TForm extends FormDataType>(\n  rememberKeyOrInitialValues?: string | TForm,\n  maybeInitialValues?: TForm,\n): InertiaFormProps<TForm> {\n  const isMounted = useRef(null)\n  const rememberKey = typeof rememberKeyOrInitialValues === 'string' ? rememberKeyOrInitialValues : null\n  const [defaults, setDefaults] = useState(\n    (typeof rememberKeyOrInitialValues === 'string' ? maybeInitialValues : rememberKeyOrInitialValues) || ({} as TForm),\n  )\n  const cancelToken = useRef(null)\n  const recentlySuccessfulTimeoutId = useRef(null)\n  const [data, setData] = rememberKey ? useRemember(defaults, `${rememberKey}:data`) : useState(defaults)\n  const [errors, setErrors] = rememberKey\n    ? useRemember({} as Partial<Record<keyof TForm, string>>, `${rememberKey}:errors`)\n    : useState({} as Partial<Record<keyof TForm, string>>)\n  const [hasErrors, setHasErrors] = useState(false)\n  const [processing, setProcessing] = useState(false)\n  const [progress, setProgress] = useState(null)\n  const [wasSuccessful, setWasSuccessful] = useState(false)\n  const [recentlySuccessful, setRecentlySuccessful] = useState(false)\n  const transform = useRef((data) => data)\n\n  useEffect(() => {\n    isMounted.current = true\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  const submit = useCallback(\n    (method, url, options: VisitOptions = {}) => {\n      const _options = {\n        ...options,\n        onCancelToken: (token) => {\n          cancelToken.current = token\n\n          if (options.onCancelToken) {\n            return options.onCancelToken(token)\n          }\n        },\n        onBefore: (visit) => {\n          setWasSuccessful(false)\n          setRecentlySuccessful(false)\n          clearTimeout(recentlySuccessfulTimeoutId.current)\n\n          if (options.onBefore) {\n            return options.onBefore(visit)\n          }\n        },\n        onStart: (visit) => {\n          setProcessing(true)\n\n          if (options.onStart) {\n            return options.onStart(visit)\n          }\n        },\n        onProgress: (event) => {\n          setProgress(event)\n\n          if (options.onProgress) {\n            return options.onProgress(event)\n          }\n        },\n        onSuccess: (page) => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n            setErrors({})\n            setHasErrors(false)\n            setWasSuccessful(true)\n            setRecentlySuccessful(true)\n            recentlySuccessfulTimeoutId.current = setTimeout(() => {\n              if (isMounted.current) {\n                setRecentlySuccessful(false)\n              }\n            }, 2000)\n          }\n\n          if (options.onSuccess) {\n            return options.onSuccess(page)\n          }\n        },\n        onError: (errors) => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n            setErrors(errors)\n            setHasErrors(true)\n          }\n\n          if (options.onError) {\n            return options.onError(errors)\n          }\n        },\n        onCancel: () => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n          }\n\n          if (options.onCancel) {\n            return options.onCancel()\n          }\n        },\n        onFinish: (visit) => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n          }\n\n          cancelToken.current = null\n\n          if (options.onFinish) {\n            return options.onFinish(visit)\n          }\n        },\n      }\n\n      if (method === 'delete') {\n        router.delete(url, { ..._options, data: transform.current(data) })\n      } else {\n        router[method](url, transform.current(data), _options)\n      }\n    },\n    [data, setErrors, transform],\n  )\n\n  const setDataFunction = useCallback(\n    (keyOrData: keyof TForm | Function | TForm, maybeValue?: TForm[keyof TForm]) => {\n      if (typeof keyOrData === 'string') {\n        setData((data) => ({ ...data, [keyOrData]: maybeValue }))\n      } else if (typeof keyOrData === 'function') {\n        setData((data) => keyOrData(data))\n      } else {\n        setData(keyOrData as TForm)\n      }\n    },\n    [setData],\n  )\n\n  const setDefaultsFunction = useCallback(\n    (fieldOrFields?: keyof TForm | Partial<TForm>, maybeValue?: FormDataConvertible) => {\n      if (typeof fieldOrFields === 'undefined') {\n        setDefaults(() => data)\n      } else {\n        setDefaults((defaults) => ({\n          ...defaults,\n          ...(typeof fieldOrFields === 'string' ? { [fieldOrFields]: maybeValue } : (fieldOrFields as TForm)),\n        }))\n      }\n    },\n    [data, setDefaults],\n  )\n\n  const reset = useCallback(\n    (...fields) => {\n      if (fields.length === 0) {\n        setData(defaults)\n      } else {\n        setData((data) =>\n          (Object.keys(defaults) as Array<keyof TForm>)\n            .filter((key) => fields.includes(key))\n            .reduce(\n              (carry, key) => {\n                carry[key] = defaults[key]\n                return carry\n              },\n              { ...data },\n            ),\n        )\n      }\n    },\n    [setData, defaults],\n  )\n\n  const setError = useCallback(\n    (fieldOrFields: keyof TForm | Record<keyof TForm, string>, maybeValue?: string) => {\n      setErrors((errors) => {\n        const newErrors = {\n          ...errors,\n          ...(typeof fieldOrFields === 'string'\n            ? { [fieldOrFields]: maybeValue }\n            : (fieldOrFields as Record<keyof TForm, string>)),\n        }\n        setHasErrors(Object.keys(newErrors).length > 0)\n        return newErrors\n      })\n    },\n    [setErrors, setHasErrors],\n  )\n\n  const clearErrors = useCallback(\n    (...fields) => {\n      setErrors((errors) => {\n        const newErrors = (Object.keys(errors) as Array<keyof TForm>).reduce(\n          (carry, field) => ({\n            ...carry,\n            ...(fields.length > 0 && !fields.includes(field) ? { [field]: errors[field] } : {}),\n          }),\n          {},\n        )\n        setHasErrors(Object.keys(newErrors).length > 0)\n        return newErrors\n      })\n    },\n    [setErrors, setHasErrors],\n  )\n\n  const createSubmitMethod = (method) => (url, options) => {\n    submit(method, url, options)\n  }\n  const get = useCallback(createSubmitMethod('get'), [submit])\n  const post = useCallback(createSubmitMethod('post'), [submit])\n  const put = useCallback(createSubmitMethod('put'), [submit])\n  const patch = useCallback(createSubmitMethod('patch'), [submit])\n  const deleteMethod = useCallback(createSubmitMethod('delete'), [submit])\n\n  const cancel = useCallback(() => {\n    if (cancelToken.current) {\n      cancelToken.current.cancel()\n    }\n  }, [])\n\n  const transformFunction = useCallback((callback) => {\n    transform.current = callback\n  }, [])\n\n  return {\n    data,\n    setData: setDataFunction,\n    isDirty: !isEqual(data, defaults),\n    errors,\n    hasErrors,\n    processing,\n    progress,\n    wasSuccessful,\n    recentlySuccessful,\n    transform: transformFunction,\n    setDefaults: setDefaultsFunction,\n    reset,\n    setError,\n    clearErrors,\n    submit,\n    get,\n    post,\n    put,\n    patch,\n    delete: deleteMethod,\n    cancel,\n  }\n}\n", "import { router } from '@inertiajs/core'\nimport { Dispatch, SetStateAction, useEffect, useState } from 'react'\n\nexport default function useRemember<State>(\n  initialState: State,\n  key?: string,\n): [State, Dispatch<SetStateAction<State>>] {\n  const [state, setState] = useState(() => {\n    const restored = router.restore(key) as State\n\n    return restored !== undefined ? restored : initialState\n  })\n\n  useEffect(() => {\n    router.remember(state, key)\n  }, [state, key])\n\n  return [state, setState]\n}\n", "import { PollOptions, ReloadOptions, router } from '@inertiajs/core'\nimport { useEffect, useRef } from 'react'\n\nexport default function usePoll(\n  interval: number,\n  requestOptions: ReloadOptions = {},\n  options: PollOptions = {\n    keepAlive: false,\n    autoStart: true,\n  },\n) {\n  const pollRef = useRef(\n    router.poll(interval, requestOptions, {\n      ...options,\n      autoStart: false,\n    }),\n  )\n\n  useEffect(() => {\n    if (options.autoStart ?? true) {\n      pollRef.current.start()\n    }\n\n    return () => pollRef.current.stop()\n  }, [])\n\n  return {\n    stop: pollRef.current.stop,\n    start: pollRef.current.start,\n  }\n}\n", "import { router, VisitOptions } from '@inertiajs/core'\nimport { useEffect, useState } from 'react'\n\nexport default function usePrefetch(options: VisitOptions = {}): {\n  lastUpdatedAt: number | null\n  isPrefetching: boolean\n  isPrefetched: boolean\n  flush: () => void\n} {\n  const cached = typeof window === 'undefined' ? null : router.getCached(window.location.pathname, options)\n  const inFlight = typeof window === 'undefined' ? null : router.getPrefetching(window.location.pathname, options)\n\n  const [lastUpdatedAt, setLastUpdatedAt] = useState<number | null>(cached?.staleTimestamp || null)\n  const [isPrefetching, setIsPrefetching] = useState(inFlight !== null)\n  const [isPrefetched, setIsPrefetched] = useState(cached !== null)\n\n  useEffect(() => {\n    const onPrefetchingListener = router.on('prefetching', (e) => {\n      if (e.detail.visit.url.pathname === window.location.pathname) {\n        setIsPrefetching(true)\n      }\n    })\n\n    const onPrefetchedListener = router.on('prefetched', (e) => {\n      if (e.detail.visit.url.pathname === window.location.pathname) {\n        setIsPrefetching(false)\n        setIsPrefetched(true)\n        setLastUpdatedAt(e.detail.fetchedAt)\n      }\n    })\n\n    return () => {\n      onPrefetchedListener()\n      onPrefetchingListener()\n    }\n  }, [])\n\n  return {\n    lastUpdatedAt,\n    isPrefetching,\n    isPrefetched,\n    flush: () => router.flush(window.location.pathname, options),\n  }\n}\n", "import { ReloadOptions, router } from '@inertiajs/core'\nimport { createElement, ReactElement, useCallback, useEffect, useRef, useState } from 'react'\n\ninterface WhenVisibleProps {\n  children: ReactElement | number | string\n  fallback: ReactElement | number | string\n  data?: string | string[]\n  params?: ReloadOptions\n  buffer?: number\n  as?: string\n  always?: boolean\n}\n\nconst WhenVisible = ({ children, data, params, buffer, as, always, fallback }: WhenVisibleProps) => {\n  always = always ?? false\n  as = as ?? 'div'\n  fallback = fallback ?? null\n\n  const [loaded, setLoaded] = useState(false)\n  const hasFetched = useRef<boolean>(false)\n  const fetching = useRef<boolean>(false)\n  const ref = useRef<HTMLDivElement>(null)\n\n  const getReloadParams = useCallback<() => Partial<ReloadOptions>>(() => {\n    if (data) {\n      return {\n        only: (Array.isArray(data) ? data : [data]) as string[],\n      }\n    }\n\n    if (!params) {\n      throw new Error('You must provide either a `data` or `params` prop.')\n    }\n\n    return params\n  }, [params, data])\n\n  useEffect(() => {\n    if (!ref.current) {\n      return\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (!entries[0].isIntersecting) {\n          return\n        }\n\n        if (!always && hasFetched.current) {\n          observer.disconnect()\n        }\n\n        if (fetching.current) {\n          return\n        }\n\n        hasFetched.current = true\n        fetching.current = true\n\n        const reloadParams = getReloadParams()\n\n        router.reload({\n          ...reloadParams,\n          onStart: (e) => {\n            fetching.current = true\n            reloadParams.onStart?.(e)\n          },\n          onFinish: (e) => {\n            setLoaded(true)\n            fetching.current = false\n            reloadParams.onFinish?.(e)\n\n            if (!always) {\n              observer.disconnect()\n            }\n          },\n        })\n      },\n      {\n        rootMargin: `${buffer || 0}px`,\n      },\n    )\n\n    observer.observe(ref.current)\n\n    return () => {\n      observer.disconnect()\n    }\n  }, [ref, getReloadParams, buffer])\n\n  if (always || !loaded) {\n    return createElement(\n      as,\n      {\n        props: null,\n        ref,\n      },\n      loaded ? children : fallback,\n    )\n  }\n\n  return loaded ? children : null\n}\n\nWhenVisible.displayName = 'InertiaWhenVisible'\n\nexport default WhenVisible\n"],
  "mappings": "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",
  "names": ["Uint8Array", "Promise", "othValue", "debounce", "fn", "delay", "timeoutID", "args", "fireEvent", "name", "options", "fireBeforeEvent", "visit", "fireErrorEvent", "errors", "fireExceptionEvent", "exception", "fireFinishEvent", "fireInvalidEvent", "response", "fireNavigateEvent", "page", "fireProgressEvent", "progress", "fireStartEvent", "fireSuccessEvent", "firePrefetchedEvent", "firePrefetchingEvent", "SessionStorage", "key", "value", "existing", "nestedKey", "encryptHistory", "data", "iv", "getIv", "storedKey", "getKeyFromSessionStorage", "getOrCreateKey", "encryptData", "historySessionStorageKeys", "decryptHistory", "decryptData", "textEncoder", "str", "encoded", "result", "decrypted", "ivString", "createKey", "saveKey", "keyData", "newKey", "stringKey", "Scroll", "history", "region", "scrollRegions", "index", "scrollPosition", "event", "target", "hasFiles", "isFormData", "objectToFormData", "source", "form", "parentKey", "append", "composeKey", "parent", "hrefToUrl", "href", "transformUrlAndData", "method", "forceFormData", "queryStringArrayFormat", "url", "_href", "_data", "mergeDataIntoQueryString", "qsArrayFormat", "hasHost", "hasAbsolutePath", "hasRelativePath", "hasSearch", "hasHash", "deepmerge", "urlWithoutHash", "setHashIfSameUrl", "originUrl", "destinationUrl", "isSameUrlWithoutHash", "url1", "url2", "CurrentPage", "initialPage", "swapComponent", "resolveComponent", "replace", "preserveScroll", "preserveState", "componentId", "component", "location", "resolve", "isNewComponent", "eventHandler", "hash", "callback", "listener", "Queue", "item", "next", "isServer", "queue", "isChromeIOS", "History", "cb", "doPush", "pageData", "scrollRegion", "doReplace", "defaultValue", "state", "EventHandler", "type", "NavigationType", "navigationType", "InitialVisit", "handler", "locationVisit", "rememberedState", "Poll", "interval", "hidden", "Polls", "poll", "polls", "objectsAreEqual", "obj1", "obj2", "excludeKeys", "compareValues", "value1", "value2", "conversionMap", "timeToMs", "time", "unit", "conversion", "PrefetchedRequests", "params", "sendFunc", "cacheFor", "stale", "expires", "promise", "reject", "error", "visitParams", "prefetching", "removalTimer", "prefetched", "timer", "expiresIn", "id", "params1", "params2", "prefetchedRequests", "RequestParams", "wrappedCallbacks", "cancelled", "interrupted", "headers", "only", "toMerge", "modal_default", "html", "a", "iframe", "Response", "requestParams", "originatingPage", "scopedErrors", "locationUrl", "status", "header", "pageResponse", "originatingUrl", "currentPageUrl", "responseUrl", "prop", "incomingProp", "Request", "originallyPrefetch", "axios", "RequestStream", "maxConcurrent", "interruptible", "request", "r", "force", "Router", "requestOptions", "events", "requestStream", "reveal", "visitUrl", "currentUrl", "hide", "checkIfPageIsDefined", "current", "props", "pendingVisitOptions", "mergedOptions", "deferred", "_", "group", "Renderer", "tag", "template", "node", "script", "element", "elements", "sourceElements", "targetElement", "sourceElement", "createHeadManager", "titleCallback", "onUpdate", "states", "lastProviderId", "connect", "disconnect", "commit", "update", "collect", "title", "defaults", "carry", "match", "baseComponentSelector", "settings", "configure", "injectCSS", "set", "n", "started", "isStarted", "clamp", "render", "bar", "speed", "ease", "barStyles", "toBarPercentage", "remove", "start", "work", "increaseByRandom", "done", "amount", "ranges", "fromStart", "isRendered", "perc", "getParent", "isDOM", "obj", "min", "max", "pending", "color", "hiddenStyles", "el", "show", "progress_component_default", "hideCount", "addEventListeners", "timeout", "e", "finish", "setupProgress", "includeCSS", "showSpinner", "shouldIntercept", "isLink", "router", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "headContext", "createContext", "HeadContext_default", "pageContext", "PageContext_default", "App", "children", "initialPage", "initialComponent", "resolveComponent", "titleCallback", "onHeadUpdate", "current", "setCurrent", "useState", "headManager", "useMemo", "createHeadManager", "title", "useEffect", "router", "component", "page", "preserveState", "createElement", "renderChildren", "Component", "props", "key", "child", "Layout", "createInertiaApp", "id", "resolve", "setup", "progress", "render", "isServer", "el", "name", "module", "head", "reactApp", "elements", "setupProgress", "body", "usePage", "useContext", "Deferred", "data", "fallback", "loaded", "setLoaded", "pageProps", "keys", "Deferred_default", "Head", "provider", "isUnaryTag", "node", "renderTagStart", "attrs", "carry", "value", "renderTagChildren", "html", "renderTag", "ensureNodeHasInertiaProp", "React", "renderNode", "renderNodes", "nodes", "computed", "tag", "Head_default", "noop", "Link", "forwardRef", "as", "href", "method", "preserveScroll", "replace", "only", "except", "headers", "queryStringArrayFormat", "async", "onClick", "onCancelToken", "onBefore", "onStart", "onProgress", "onFinish", "onCancel", "onSuccess", "onError", "prefetch", "cacheFor", "ref", "inFlightCount", "setInFlightCount", "hoverTimeout", "useRef", "_href", "_data", "mergeDataIntoQueryString", "baseParams", "visitParams", "event", "count", "doPrefetch", "cacheForValue", "prefetchModes", "regularEvents", "shouldIntercept", "prefetchHoverEvents", "prefetchClickEvents", "Link_default", "useRemember", "initialState", "state", "setState", "restored", "useForm", "rememberKeyOrInitialValues", "maybeInitialValues", "isMounted", "rememberKey", "defaults", "setDefaults", "cancelToken", "recentlySuccessfulTimeoutId", "setData", "errors", "setErrors", "hasErrors", "setHasErrors", "processing", "setProcessing", "setProgress", "wasSuccessful", "setWasSuccessful", "recentlySuccessful", "setRecentlySuccessful", "transform", "submit", "useCallback", "url", "options", "_options", "token", "visit", "setDataFunction", "keyOrData", "maybeValue", "setDefaultsFunction", "fieldOrFields", "reset", "fields", "setError", "newErrors", "clearErrors", "field", "createSubmitMethod", "get", "post", "put", "patch", "deleteMethod", "cancel", "transformFunction", "callback", "isEqual", "usePoll", "interval", "requestOptions", "pollRef", "usePrefetch", "cached", "inFlight", "lastUpdatedAt", "setLastUpdatedAt", "isPrefetching", "setIsPrefetching", "isPrefetched", "setIsPrefetched", "onPrefetchingListener", "onPrefetchedListener", "WhenVisible", "params", "buffer", "always", "hasFetched", "fetching", "getReloadParams", "observer", "entries", "reloadParams", "e", "WhenVisible_default", "Router"]
}
